!function(e){"use strict";function t(e,t,n){for(e=String(e);e.length<t;)e=String(n)+e;return e}function n(e,t,n){return e>n?n:t>e?t:e}function r(e,t,n,r){for(;e>n;)e-=r;for(;t>e;)e+=r;return e}function o(e){return e.preventDefault(),!1}function i(){window.console&&window.console.log&&window.console.log.apply(window.console,arguments)}function a(e,t,n){n&&e.bind(t+"."+p,n)}function s(e,t,n){var r=(t?t:"")+"."+p;n?e.unbind(r,n):e.unbind(r)}function u(t,n){return function(){return(t||e.noop).apply(this,arguments),(n||e.noop).apply(this,arguments)}}function d(t,n){return e.inArray(t,n)>-1}function c(e,t,n){return e>=t&&n>=e}function l(t,n){var r=e.inArray(t,n);return r>-1?(n.splice(r,1),!0):!1}function m(e,t){e=n(e,0,t-1);var r,o=[],i=e;for(r=0;t>r;r+=1)r%2?i+=r:i-=r,c(i,0,t-1)&&!d(i,o)&&o.push(i);for(r=e;t>r;r+=1)d(r,o)||o.push(r);for(r=e;r>=0;r-=1)d(r,o)||o.push(r);return o}function h(t){var n,r,o=!1,i=t.target,d="string"==typeof t.source?[t.source]:t.source,c=d.length,l=t.preloadCount||c,h=0,g=t.lane||0,f=t.lanes||1,p=d.length/f,w=g,v=g,b={},F=m(g,f),z=function(){var e=b[F.shift()];if(null!=e)for(e=e.slice(0),n=0;n<e.length;n+=1)r=e[n],r.src=d[r.index]},y=t.onComplete||e.noop,X=t.onPreload||e.noop,k=u(t.onProgress,function(t){var n=b[t.image.lane],r=e.inArray(t.image,n);n.splice(r,1),0==n.length&&z()}),S=[],Y=!1,x=!1,M=function(){o||(h+=1,h%p==0&&(w=Math.min(w,this.lane),v=Math.max(v,this.lane)),k({image:this,lane:this.lane,index:this.index,frame:this.frame,loaded:h,total:d.length,minLane:w,maxLane:v,percent:Math.round(h/c*100),percentPreload:Math.min(Math.round(h/l*100),100)}),x=x||this===S[g*p],!Y&&h>=l&&x&&(Y=!0,X(S.slice(0))),h===c&&(L(),y()))};for(n=0;n<d.length;n+=1)r=new Image,r.index=n,r.frame=n%p,r.lane=Math.floor((r.index-r.frame)/p),r.onload=r.onabort=r.onerror=M,S.push(r),(b[r.lane]=b[r.lane]||[]).push(r);var I=function(){o=!0,L()},L=function(){S.length=0;for(var e in b)b.hasOwnProperty(e)&&(b[e].length=0);s(i,"onReset",I),s(i,"onDestroy",I)};a(i,"onReset",I),a(i,"onDestroy",I),z()}function g(e,t){var n=(t||e).width,r=(t||e).height;if(1048576>=n*r)return!1;var o;if(o=document.createElement("canvas"),!o||!o.getContext)return!1;var a=o.getContext("2d");if(!a)return!1;o.width=o.height=1,a.fillStyle="#FF00FF",a.fillRect(0,0,1,1),a.drawImage(e,-n+1,0);try{var s=a.getImageData(0,0,1,1).data;return 255===s[0]&&0===s[1]&&255===s[2]}catch(u){return i(u.message,u.stack),!1}}function f(e){if(null!=e.naturalWidth)return{width:e.naturalWidth,height:e.naturalHeight};var t=new Image;return t.src=e.src,{width:t.width,height:t.height}}var p="spritespin",w=["mousedown","mousemove","mouseup","mouseenter","mouseover","mouseleave","dblclick","touchstart","touchmove","touchend","touchcancel","selectstart","gesturestart","gesturechange","gestureend"],v=["dragstart"],b={};window.SpriteSpin=b,b.namespace=p,b.mods={},b.defaults={source:void 0,width:void 0,height:void 0,frames:void 0,framesX:void 0,lanes:1,sizeMode:void 0,module:"360",behavior:"drag",renderer:"canvas",lane:0,minLane:void 0,maxLane:void 0,frame:0,frameTime:40,animate:!0,reverse:!1,loop:!0,stopFrame:0,wrap:!0,wrapLane:!1,sense:1,senseLane:void 0,orientation:"horizontal",detectSubsampling:!0,scrollThreshold:50,preloadCount:void 0,onInit:void 0,onProgress:void 0,onLoad:void 0,onFrame:void 0,onDraw:void 0},b.clamp=n,b.wrap=r,b.prevent=o,b.log=i,b.chainFunction=u,b.inArray=d,b.inRange=c,b.removeFromArray=l,b.sourceArray=function(e,n){var r=0,o=0,i=0,a=0,s=n.digits||2;n.frame&&(r=n.frame[0],o=n.frame[1]),n.lane&&(i=n.lane[0],a=n.lane[1]);var u,d,c,l=[];for(u=i;a>=u;u+=1)for(d=r;o>=d;d+=1)c=e.replace("{lane}",t(u,s,0)),c=c.replace("{frame}",t(d,s,0)),l.push(c);return l},b.measureSource=function(e,t){t=t||e.images[0];var n=f(t);if(1===e.images.length){if(e.sourceWidth=n.width,e.sourceHeight=n.height,e.detectSubsampling&&g(t,n)&&(e.sourceWidth/=2,e.sourceHeight/=2),e.framesX=e.framesX||e.frames,!e.frameWidth||!e.frameHeight)if(e.framesX){e.frameWidth=Math.floor(e.sourceWidth/e.framesX);var r=Math.ceil(e.frames*e.lanes/e.framesX);e.frameHeight=Math.floor(e.sourceHeight/r)}else e.frameWidth=n.width,e.frameHeight=n.height}else e.sourceWidth=e.frameWidth=n.width,e.sourceHeight=e.frameHeight=n.height,g(t,n)&&(e.sourceWidth=e.frameWidth=n.width/2,e.sourceHeight=e.frameHeight=n.height/2),e.frames=e.frames||e.images.length},b.resetInput=function(e){e.startX=e.startY=void 0,e.currentX=e.currentY=void 0,e.oldX=e.oldY=void 0,e.dX=e.dY=e.dW=0,e.ddX=e.ddY=e.ddW=0},b.updateInput=function(e,t){void 0===e.touches&&void 0!==e.originalEvent&&(e.touches=e.originalEvent.touches),t.oldX=t.currentX,t.oldY=t.currentY,void 0!==e.touches&&e.touches.length>0?(t.currentX=e.touches[0].clientX||0,t.currentY=e.touches[0].clientY||0):(t.currentX=e.clientX||0,t.currentY=e.clientY||0),(void 0===t.oldX||void 0===t.oldY)&&(t.oldX=t.currentX,t.oldY=t.currentY),(void 0===t.startX||void 0===t.startY)&&(t.startX=t.currentX,t.startY=t.currentY,t.clickframe=t.frame,t.clicklane=t.lane),t.dX=t.currentX-t.startX,t.dY=t.currentY-t.startY,t.ddX=t.currentX-t.oldX,t.ddY=t.currentY-t.oldY,t.ndX=t.dX/t.width,t.ndY=t.dY/t.height,t.nddX=t.ddX/t.width,t.nddY=t.ddY/t.height},b.updateFrame=function(e,t,o){void 0!==t?e.frame=Number(t):e.animation&&(e.frame+=e.reverse?-1:1),e.animation?(e.frame=r(e.frame,0,e.frames-1,e.frames),e.loop||e.frame!==e.stopFrame||b.stopAnimation(e)):e.frame=e.wrap?r(e.frame,0,e.frames-1,e.frames):n(e.frame,0,e.frames-1),void 0!==o&&(e.lane=o,e.lane=e.wrapLane?r(e.lane,0,e.lanes-1,e.lanes):n(e.lane,0,e.lanes-1)),e.target.trigger("onFrame",e),e.target.trigger("onDraw",e)},b.stopAnimation=function(e){e.animate=!1,e.animation&&(window.clearInterval(e.animation),e.animation=null)},b.setAnimation=function(e){e.animate?b.requestFrame(e):b.stopAnimation(e)},b.requestFrame=function(e){e.animation||(void 0===e.frameFunction&&(e.frameFunction=function(){try{b.updateFrame(e)}catch(t){}}),e.animation=window.setInterval(e.frameFunction,e.frameTime))},b.setModules=function(t){var n,r,o;for(n=0;n<t.mods.length;n+=1)r=t.mods[n],"string"==typeof r&&(o=b.mods[r],o?t.mods[n]=o:e.error("No module found with name "+r))},b.calculateInnerLayout=function(e){var t=Math.floor(e.width||e.frameWidth||e.target.innerWidth()),n=Math.floor(e.height||e.frameHeight||e.target.innerHeight()),r=t/n,o=e.frameWidth||t,i=e.frameHeight||n,a=o/i,s={width:"100%",height:"100%",top:0,left:0,bottom:0,right:0,position:"absolute",overflow:"hidden"},u=e.sizeMode;return u&&"scale"!=u?("original"==u?(s.width=o,s.height=i):"fit"==u?a>=r?(s.width=t,s.height=t/a):(s.height=n,s.width=n*a):"fill"==u&&(a>=r?(s.height=n,s.width=n*a):(s.width=t,s.height=t/a)),s.width=0|s.width,s.height=0|s.height,s.top=(n-s.height)/2|0,s.left=(t-s.width)/2|0,s.right=s.left,s.bottom=s.top,s):s},b.setLayout=function(e){e.target.attr("unselectable","on").css({"-ms-user-select":"none","-moz-user-select":"none","-khtml-user-select":"none","-webkit-user-select":"none","user-select":"none"});var t=Math.floor(e.width||e.frameWidth||e.target.innerWidth()),n=Math.floor(e.height||e.frameHeight||e.target.innerHeight());e.target.css({width:t,height:n,position:"relative",overflow:"hidden"});var r=b.calculateInnerLayout(e);e.stage.css(r).hide(),e.canvas&&(e.canvas[0].width=t,e.canvas[0].height=n,e.canvas.css(r).hide())},b.setEvents=function(e){var t,n,r,i=e.target;for(s(i),n=0;n<v.length;n+=1)a(i,v[n],o);for(t=0;t<e.mods.length;t+=1){for(r=e.mods[t],n=0;n<w.length;n+=1)a(i,w[n],r[w[n]]);a(i,"onReset",r.onReset),a(i,"onInit",r.onInit),a(i,"onProgress",r.onProgress),a(i,"onLoad",r.onLoad),a(i,"onLoadComplete",r.onLoadComplete),a(i,"onFrame",r.onFrame),a(i,"onDraw",r.onDraw),a(i,"onDestroy",r.onDestroy)}a(i,"onLoad",function(e,t){b.setAnimation(t)}),a(i,"onDestroy",function(e,t){b.stopAnimation(t)}),a(i,"onReset",e.onReset),a(i,"onInit",e.onInit),a(i,"onProgress",e.onProgress),a(i,"onLoad",e.onLoad),a(i,"onLoadComplete",e.onLoadComplete),a(i,"onFrame",e.onFrame),a(i,"onDraw",e.onDraw),a(i,"onDestroy",e.onDestroy)},b.boot=function(e){(e.loaded||e.loading)&&e.target.trigger("onReset"),b.setModules(e),b.setLayout(e),b.setEvents(e),e.target.addClass("loading").trigger("onInit",e),e.loading=!0;var t=null;h({target:e.target,source:e.source,lane:e.lane,lanes:e.lanes,preloadCount:e.preloadCount,onProgress:function(n){t=t||n.image,e.target.trigger("onProgress",[n,e])},onPreload:function(n){e.images=n,e.loading=!1,e.loaded=!0,b.measureSource(e,t),e.stage.show(),e.target.removeClass("loading").trigger("onLoad",e).trigger("onFrame",e).trigger("onDraw",e)},onComplete:function(){e.target.trigger("onLoadComplete",e)}})},b.create=function(t){var n=t.target,r=n.data(p),o=!1;if(r)o=!0,e.extend(r,t);else{if(r=e.extend({},b.defaults,t),r.source=r.source||[],n.find("img").each(function(){r.source.push(e(this).attr("src"))}),n.empty().addClass("spritespin-instance").append("<div class='spritespin-stage'></div>"),"canvas"===r.renderer){var i=e("<canvas class='spritespin-canvas'></canvas>")[0];i.getContext&&i.getContext("2d")?(r.canvas=e(i),r.context=i.getContext("2d"),n.append(r.canvas),n.addClass("with-canvas")):r.renderer="image"}r.target=n,r.stage=n.find(".spritespin-stage"),n.data(p,r)}"string"==typeof r.source&&(r.source=[r.source]),r.mods&&(delete r.behavior,delete r.module),(r.behavior||r.module)&&(r.mods=[],r.behavior&&r.mods.push(r.behavior),r.module&&r.mods.push(r.module),delete r.behavior,delete r.module),o&&r.target.trigger("onReset"),b.boot(r)},b.destroy=function(e){e&&(e.target.trigger("onDestroy"),s(e.target),e.target.removeData(p))},b.registerModule=function(t,n){return b.mods[t]&&e.error("Module name is already taken: "+t),n=n||{},b.mods[t]=n,n},b.Api=function(e){this.data=e},b.extendApi=function(t){var n,r=b.Api.prototype;for(n in t)t.hasOwnProperty(n)&&(r[n]?e.error("API method is already defined: "+n):r[n]=t[n]);return r},e.fn.spritespin=function(t,n){if("data"===t)return this.data(p);if("api"===t){var r=this.data(p);return r.api=r.api||new b.Api(r),r.api}if("destroy"===t)return e(this).each(function(){b.destroy(e(this).data(p))});if(2===arguments.length&&"string"==typeof t){var o={};o[t]=n,t=o}return"object"==typeof t?(t.target=t.target||e(this),b.create(t),t.target):e.error("Invalid call to spritespin")}}(window.jQuery||window.Zepto||window.$),function(){"use strict";var e=window.SpriteSpin;e.extendApi({isPlaying:function(){return null!==this.data.animation},isLooping:function(){return this.data.loop},toggleAnimation:function(){this.data.animate=!this.data.animate,e.setAnimation(this.data)},stopAnimation:function(){this.data.animate=!1,e.setAnimation(this.data)},startAnimation:function(){this.data.animate=!0,e.setAnimation(this.data)},loop:function(t){return this.data.loop=t,e.setAnimation(this.data),this},currentFrame:function(){return this.data.frame},updateFrame:function(t){return e.updateFrame(this.data,t),this},skipFrames:function(t){var n=this.data;return e.updateFrame(n,n.frame+(n.reverse?-t:+t)),this},nextFrame:function(){return this.skipFrames(1)},prevFrame:function(){return this.skipFrames(-1)},playTo:function(t,n){var r=this.data;if(n=n||{},n.force||r.frame!==t){if(n.nearest){var o=t-r.frame,i=t>r.frame?o-r.frames:o+r.frames,a=Math.abs(o)<Math.abs(i)?o:i;r.reverse=0>a}return r.animate=!0,r.loop=!1,r.stopFrame=t,e.setAnimation(r),this}}})}(window.jQuery||window.Zepto||window.$),function(e){"use strict";function t(e){e=e||document.documentElement,e[u.requestFullscreen]()}function n(){return document[u.exitFullscreen]()}function r(){return document[u.fullscreenEnabled]}function o(){return document[u.fullscreenElement]}function i(){return!!o()}function a(){e(document).unbind(c)}function s(t){a(),e(document).bind(c,t)}var u=function(){for(var e,t,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,o=n.length,i={};o>r;r++)if(e=n[r],e&&e[1]in document){for(r=0,t=e.length;t>r;r++)i[n[0][r]]=e[r];return i}return!1}(),d=window.SpriteSpin,c=u.fullscreenchange+"."+d.namespace;d.Api.fsApi={fullscreenEnabled:r,fullscreenElement:o,exitFullscreen:n,requestFullscreen:t,isFullscreen:i},d.extendApi({fullscreenEnabled:r,fullscreenElement:o,exitFullscreen:n,isFullscreen:i,toggleFullscreen:function(e){i()?this.exitFullscreen():this.requestFullscreen(e)},requestFullscreen:function(e){e=e||{};var n=this,r=n.data,o=e.source||r.source,u=e.width||window.screen.width,c=e.height||window.screen.height,l=e.sizeMode||r.sizeMode,m=r.width,h=r.height,g=r.source,f=r.sizeMode;s(function(){i()?(r.width=u,r.height=c,r.source=o||g,r.sizeMode=l||f,d.boot(r)):(a(),r.width=m,r.height=h,r.source=g,r.sizeMode=f,d.boot(r))}),t(r.target[0])}})}(window.jQuery||window.Zepto||window.$),function(e,t){"use strict";function n(n){var r=e(this),o=r.data("spritespin");t.updateInput(n,o);var i,a;"horizontal"===o.orientation?(i=o.target.innerWidth()/2,a=o.currentX-o.target.offset().left):(i=o.target.innerHeight()/2,a=o.currentY-o.target.offset().top),r.spritespin(a>i?"next":"prev")}t.registerModule("click",{mouseup:n,touchend:n})}(window.jQuery||window.Zepto||window.$,window.SpriteSpin),function(e,t){"use strict";function n(n){var r=e(this).spritespin("data");r.loading||r.dragging||!r.stage.is(":visible")||(r.dragFrame=r.frame||0,r.dragLane=r.lane||0,t.updateInput(n,r),r.dragging=!0)}function r(){var n=e(this),r=n.spritespin("data");r.dragging=!1,r.stage.is(":visible")&&t.resetInput(r)}function o(n){var r,o,i=e(this),a=i.spritespin("data");if(a.dragging){if(t.updateInput(n,a),!t.Api.fsApi.fullscreenElement()&&Math.abs(a.ddX)+Math.abs(a.ddY)>a.scrollThreshold)return a.dragging=!1,void t.resetInput(a);n.preventDefault();var s=0;s="number"==typeof a.orientation?(Number(a.orientation)||0)*Math.PI/180:"horizontal"===a.orientation?0:Math.PI/2;var u=Math.sin(s),d=Math.cos(s),c=(a.nddX*d-a.nddY*u)*a.sense||0,l=(a.nddX*u+a.nddY*d)*(a.senseLane||a.sense)||0;a.dragFrame+=a.frames*c,a.dragLane+=a.lanes*l,a.wrap||(a.dragFrame=t.clamp(a.dragFrame,0,a.frames)),null!=a.minLane&&null!=a.maxLane&&(a.dragLane=t.clamp(a.dragLane,a.minLane,a.maxLane)),a.wrapLane||(a.dragLane=t.clamp(a.dragLane,0,a.lanes)),o=Math.floor(a.dragFrame),r=Math.floor(a.dragLane),t.updateFrame(a,o,r),t.stopAnimation(a)}}t.registerModule("drag",{mousedown:n,mousemove:o,mouseup:r,mouseleave:r,touchstart:n,touchmove:o,touchend:r,touchcancel:r}),t.registerModule("move",{mousemove:function(e){n.call(this,e),o.call(this,e)},mouseleave:r,touchstart:n,touchmove:o,touchend:r,touchcancel:r})}(window.jQuery||window.Zepto||window.$,window.SpriteSpin),function(e,t){"use strict";function n(n){var r=e(this),o=r.spritespin("data");o.loading||(t.updateInput(n,o),o.dragging=!0,r.spritespin("api").startAnimation())}function r(){var n=e(this),r=n.spritespin("data");t.resetInput(r),r.dragging=!1,n.spritespin("api").stopAnimation()}function o(n){var r=e(this),o=r.spritespin("data");if(o.dragging){t.updateInput(n,o);var i,a;"horizontal"===o.orientation?(i=o.target.innerWidth()/2,a=(o.currentX-o.target.offset().left-i)/i):(i=o.height/2,a=(o.currentY-o.target.offset().top-i)/i),o.reverse=0>a,a=0>a?-a:a,o.frameTime=80*(1-a)+20,("horizontal"===o.orientation&&o.dX<o.dY||"vertical"===o.orientation&&o.dX<o.dY)&&n.preventDefault()}}t.registerModule("hold",{mousedown:n,mousemove:o,mouseup:r,mouseleave:r,touchstart:n,touchmove:o,touchend:r,touchcancel:r,onFrame:function(){e(this).spritespin("api").startAnimation()}})}(window.jQuery||window.Zepto||window.$,window.SpriteSpin),function(e,t){"use strict";function n(n){var r=e(this).spritespin("data");r.loading||(t.updateInput(n,r),r.dragging=!0)}function r(){var n=e(this).spritespin("data");n.dragging=!1,t.resetInput(n)}function o(n){var r=e(this),o=r.spritespin("data");if(o.dragging){t.updateInput(n,o);var i,a,s=o.frame,u=o.snap||.25;"horizontal"===o.orientation?(i=o.dX,a=o.target.innerWidth()*u):(i=o.dY,a=o.target.innerHeight()*u),i>a?(s=o.frame-1,o.dragging=!1):-a>i&&(s=o.frame+1,o.dragging=!1),r.spritespin("update",s),r.spritespin("animate",!1),("horizontal"===o.orientation&&o.dX<o.dY||"vertical"===o.orientation&&o.dX<o.dY)&&n.preventDefault()}}t.registerModule("swipe",{mousedown:n,mousemove:o,mouseup:r,mouseleave:r,touchstart:n,touchmove:o,touchend:r,touchcancel:r})}(window.jQuery||window.Zepto||window.$,window.SpriteSpin),function(e,t){"use strict";function n(t){var n=t.lane*t.frames+t.frame,r=t.frameWidth*(n%t.framesX),i=t.frameHeight*o(n/t.framesX);return"canvas"===t.renderer?(t.context.clearRect(0,0,t.width,t.height),void t.context.drawImage(t.images[0],r,i,t.frameWidth,t.frameHeight,0,0,t.width,t.height)):(r=-o(r*t.scaleWidth),i=-o(i*t.scaleHeight),void("background"===t.renderer?t.stage.css({"background-image":["url('",t.source[0],"')"].join(""),"background-position":[r,"px ",i,"px"].join("")}):e(t.images).css({top:i,left:r})))}function r(t){var n=t.lane*t.frames+t.frame,r=t.images[n];"canvas"===t.renderer?r&&r.complete!==!1&&(t.context.clearRect(0,0,t.width,t.height),t.context.drawImage(r,0,0,t.width,t.height)):"background"===t.renderer?t.stage.css({"background-image":["url('",t.source[n],"')"].join(""),"background-position":[0,"px ",0,"px"].join("")}):(e(t.images).hide(),e(t.images[n]).show())}var o=Math.floor;t.registerModule("360",{onLoad:function(t,n){var r,i;if(n.scaleWidth=n.width/n.frameWidth,n.scaleHeight=n.height/n.frameHeight,n.sourceIsSprite=1===n.images.length,n.stage.empty().css({"background-image":"none"}).show(),"canvas"===n.renderer)n.context.clearRect(0,0,n.width,n.height),n.canvas.show();else if("background"===n.renderer){n.sourceIsSprite?(r=o(n.sourceWidth*n.scaleWidth),i=o(n.sourceHeight*n.scaleHeight)):(r=o(n.frameWidth*n.scaleWidth),i=o(n.frameHeight*n.scaleHeight));var a=[r,"px ",i,"px"].join("");n.stage.css({"background-repeat":"no-repeat","-webkit-background-size":a,"-moz-background-size":a,"-o-background-size":a,"background-size":a})}else"image"===n.renderer&&(n.sourceIsSprite?(r=o(n.sourceWidth*n.scaleWidth),i=o(n.sourceHeight*n.scaleHeight)):r=i="100%",e(n.images).appendTo(n.stage).css({width:r,height:i,position:"absolute"}))},onDraw:function(e,t){t.sourceIsSprite?n(t):r(t)}})}(window.jQuery||window.Zepto||window.$,window.SpriteSpin),function(e){"use strict";var t=window.SpriteSpin.mods.gallery={};t.onLoad=function(t,n){n.images=[],n.offsets=[],n.stage.empty(),n.speed=500,n.opacity=.25,n.oldFrame=0;var r,o=0;for(r=0;r<n.source.length;r+=1){var i=e("<img src='"+n.source[r]+"'/>");n.stage.append(i),n.images.push(i),n.offsets.push(-o+(n.width-i[0].width)/2),o+=i[0].width,i.css({opacity:.25})}n.stage.css({width:o}),n.images[n.oldFrame].animate({opacity:1},n.speed)},t.onDraw=function(e,t){t.oldFrame!==t.frame&&t.offsets?(t.stage.stop(!0,!1),t.stage.animate({left:t.offsets[t.frame]},t.speed),t.images[t.oldFrame].animate({opacity:t.opacity},t.speed),t.oldFrame=t.frame,t.images[t.oldFrame].animate({opacity:1},t.speed)):t.stage.css({left:t.offsets[t.frame]+t.dX})},t.resetInput=function(e,t){t.onDrag||t.stage.animate({left:t.offsets[t.frame]})}}(window.jQuery||window.Zepto||window.$),function(e,t){"use strict";var n=Math.floor;t.registerModule("panorama",{onLoad:function(e,t){t.stage.empty().show(),t.frames=t.sourceWidth,"horizontal"===t.orientation?(t.scale=t.height/t.sourceHeight,t.frames=t.sourceWidth):(t.scale=t.width/t.sourceWidth,t.frames=t.sourceHeight);var r=n(t.sourceWidth*t.scale),o=n(t.sourceHeight*t.scale),i=[r,"px ",o,"px"].join("");t.stage.css({"background-image":["url('",t.source[0],"')"].join(""),"background-repeat":"repeat-both","-webkit-background-size":i,"-moz-background-size":i,"-o-background-size":i,"background-size":i})},onDraw:function(e,t){var r=0,o=0;"horizontal"===t.orientation?r=-n(t.frame%t.frames*t.scale):o=-n(t.frame%t.frames*t.scale),t.stage.css({"background-position":[r,"px ",o,"px"].join("")})}})}(window.jQuery||window.Zepto||window.$,window.SpriteSpin),function(e,t){"use strict";function n(e,n){e.preventDefault(),n.dragging=!1,!e.touches&&e.originalEvent&&(e.touches=e.originalEvent.touches);var r,o,i,a;e.touches&&e.touches.length?(r=e.touches[0].clientX||0,o=e.touches[0].clientY||0):(r=e.clientX||0,o=e.clientY||0),r/=n.width,o/=n.height,null==n.zoomPX&&(n.zoomPX=r,n.zoomPY=o),null==n.zoomX&&(n.zoomX=r,n.zoomY=o),i=r-n.zoomPX,a=o-n.zoomPY,n.zoomPX=r,n.zoomPY=o,e.type.match(/touch/)&&(i=-i,a=-a),n.zoomX=t.clamp(n.zoomX+i,0,1),n.zoomY=t.clamp(n.zoomY+a,0,1),t.updateFrame(n)}function r(t){t.preventDefault();var r=e(this).spritespin("data"),o=(new Date).getTime();if(delete r.zoomPX,delete r.zoomPY,!r.zoomClickTime)return void(r.zoomClickTime=o);var i=o-r.zoomClickTime;return i>500?void(r.zoomClickTime=o):(r.zoomClickTime=0,void(e(this).spritespin("api").toggleZoom()&&n(t,r)))}function o(t){var r=e(this).spritespin("data");r.zoomStage.is(":visible")&&n(t,r)}t.registerModule("zoom",{mousedown:r,touchstart:r,mousemove:o,touchmove:o,onInit:function(t,n){n.zoomStage||(n.zoomStage=e("<div class='spritezoom-stage'></div>").css({width:"100%",height:"100%",top:0,left:0,bottom:0,right:0,position:"absolute"}).appendTo(n.target).hide())},onDraw:function(e,t){var n=t.lane*t.frames+t.frame,r=t.source[n];if(t.zoomSource&&(r=t.zoomSource[n]),r){var o=t.zoomX,i=t.zoomY;(null==o||null==i)&&(o=t.zoomX=.5,i=t.zoomY=.5),t.zoomStage.css({"background-repeat":"no-repeat","background-image":["url('",r,"')"].join(""),"background-position":[100*o|0,"% ",100*i|0,"%"].join("")})}}}),t.extendApi({toggleZoom:function(){var t=this.data;return t.zoomStage?t.zoomStage.is(":visible")?(t.zoomStage.fadeOut(),t.stage.fadeIn(),!1):(t.zoomStage.fadeIn(),t.stage.fadeOut(),!0):(e.error("zoom module is not initialized or is not available."),!1)}})}(window.jQuery||window.Zepto||window.$,window.SpriteSpin);