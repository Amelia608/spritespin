{"version":3,"file":"spritespin.js","sourceRoot":"","sources":["../../src/spritespin.ts","../../src/utils/cursor.ts","../../src/utils/detectSubsampling.ts","../../src/utils/layout.ts","../../src/utils/measure.ts","../../src/utils/naturalSize.ts","../../src/utils/preload.ts","../../src/utils/sourceArray.ts","../../src/utils/utils.ts","../../src/api/common.ts","../../src/api/fullscreen.ts","../../src/plugins/input-click.ts","../../src/plugins/input-drag.ts","../../src/plugins/input-hold.ts","../../src/plugins/input-swipe.ts","../../src/plugins/render-360.ts","../../src/plugins/render-blur.ts","../../src/plugins/render-ease.ts","../../src/plugins/render-gallery.ts","../../src/plugins/render-panorama.ts","../../src/plugins/render-zoom.ts"],"names":[],"mappings":";AACA,IAAU,UAAU,CAi8BnB;AAj8BD,WAAU,UAAU;IAElB,EAAE;IACF,sBAAsB;IACtB,EAAE;IAEF,IAAI,eAAe,GAAG,CAAC,CAAA;IACV,oBAAS,GAA8B,EAAE,CAAA;IAEtD,sBAAsB,IAAc;QAClC,eAAe,IAAI,CAAC,CAAA;QACpB,IAAI,CAAC,EAAE,GAAG,MAAM,CAAC,eAAe,CAAC,CAAA;QACjC,WAAA,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,IAAI,CAAA;IAC3B,CAAC;IAED,qBAAqB,IAAc;QACjC,OAAO,WAAA,SAAS,CAAC,IAAI,CAAC,EAAE,CAAC,CAAA;IAC3B,CAAC;IAED,IAAI,QAAQ,GAAG,GAAG,EAAE;QAClB,+BAA+B;QAC/B,gCAAgC;QAChC,QAAQ,GAAG,GAAG,EAAE,GAAc,CAAC,CAAA;QAE/B,sBAAsB,EAAE;YACtB,GAAG,CAAC,CAAC,MAAM,EAAE,IAAI,WAAA,SAAS,CAAC,CAAC,CAAC;gBAC3B,EAAE,CAAC,CAAC,WAAA,SAAS,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;oBACjC,EAAE,CAAC,WAAA,SAAS,CAAC,EAAE,CAAC,CAAC,CAAA;gBACnB,CAAC;YACH,CAAC;QACH,CAAC;QAED,iBAAiB,SAAS,EAAE,CAAC;YAC3B,YAAY,CAAC,CAAC,IAAc,EAAE,EAAE;gBAC9B,GAAG,CAAC,CAAC,MAAM,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;oBAClC,EAAE,CAAC,CAAC,OAAO,MAAM,CAAC,SAAS,CAAC,KAAK,UAAU,CAAC,CAAC,CAAC;wBAC5C,MAAM,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAA;oBACjD,CAAC;gBACH,CAAC;YACH,CAAC,CAAC,CAAA;QACJ,CAAC;QAED;YACE,YAAY,CAAC,CAAC,IAAc,EAAE,EAAE;gBAC9B,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;oBACpB,IAAI,CAAC,IAAI,CAAC,CAAA;gBACZ,CAAC;YACH,CAAC,CAAC,CAAA;QACJ,CAAC;QAED,GAAG,CAAC,CAAC,MAAM,SAAS,IAAI,WAAA,UAAU,CAAC,CAAC,CAAC;YACnC,WAAA,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,SAAS,GAAG,GAAG,GAAG,WAAA,SAAS,EAAE,CAAC,CAAC,EAAE,EAAE;gBACzD,OAAO,CAAC,UAAU,GAAG,SAAS,EAAE,CAAC,CAAC,CAAA;YACpC,CAAC,CAAC,CAAA;QACJ,CAAC;QAED,IAAI,aAAa,GAAG,IAAI,CAAA;QACxB,WAAA,CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,QAAQ,EAAE,GAAG,EAAE;YAC1B,MAAM,CAAC,YAAY,CAAC,aAAa,CAAC,CAAA;YAClC,aAAa,GAAG,MAAM,CAAC,UAAU,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAA;QAClD,CAAC,CAAC,CAAA;IACJ,CAAC,CAAA;IAED,EAAE;IACF,oBAAoB;IACpB,EAAE;IAEF;;OAEG;IACH,MAAM,OAAO,GAAG,EAAE,CAAA;IAClB;;;OAGG;IACH,wBAA+B,IAAI,EAAE,MAAM;QACzC,EAAE,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YAClB,WAAA,KAAK,CAAC,KAAK,CAAC,gBAAgB,IAAI,oBAAoB,CAAC,CAAA;YACrD,MAAM,CAAA;QACR,CAAC;QACD,MAAM,GAAG,MAAM,IAAI,EAAE,CAAA;QACrB,OAAO,CAAC,IAAI,CAAC,GAAG,MAAM,CAAA;QACtB,MAAM,CAAC,MAAM,CAAA;IACf,CAAC;IARe,yBAAc,iBAQ7B,CAAA;IACD,wBAA+B,IAAI,EAAE,MAAM;QACzC,WAAA,KAAK,CAAC,IAAI,CAAC,8DAA8D,CAAC,CAAA;QAC1E,cAAc,CAAC,IAAI,EAAE,MAAM,CAAC,CAAA;IAC9B,CAAC;IAHe,yBAAc,iBAG7B,CAAA;IAED,EAAE;IACF,iBAAiB;IACjB,EAAE;IAEF;;OAEG;IACH;QACE,YAAmB,IAAc;YAAd,SAAI,GAAJ,IAAI,CAAU;QAAI,CAAC;KACvC;IAFY,cAAG,MAEf,CAAA;IAED;;;OAGG;IACH,qBAA4B,OAA+B;QACzD,MAAM,GAAG,GAAG,GAAG,CAAC,SAAS,CAAA;QACzB,GAAG,CAAC,CAAC,MAAM,GAAG,IAAI,OAAO,CAAC,CAAC,CAAC;YAC1B,EAAE,CAAC,CAAC,OAAO,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBAChC,EAAE,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;oBACb,WAAA,CAAC,CAAC,KAAK,CAAC,iCAAiC,GAAG,GAAG,CAAC,CAAA;gBAClD,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACN,GAAG,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC,GAAG,CAAC,CAAA;gBACzB,CAAC;YACH,CAAC;QACH,CAAC;QACD,MAAM,CAAC,GAAG,CAAA;IACZ,CAAC;IAZe,sBAAW,cAY1B,CAAA;IACD,mBAA0B,OAAO;QAC/B,WAAW,CAAC,OAAO,CAAC,CAAA;IACtB,CAAC;IAFe,oBAAS,YAExB,CAAA;IAED,EAAE;IACF,mBAAmB;IACnB,EAAE;IAEF,kBAAkB,IAAc,EAAE,IAAY;QAC5C,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,IAAI,EAAE,CAAA;QAC7B,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,CAAA;QACzC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAA;IACzB,CAAC;IAED,uBAA8B,IAAc;QAC1C,MAAM,CAAC,QAAQ,CAAC,IAAI,EAAE,OAAO,CAAC,CAAA;IAChC,CAAC;IAFe,wBAAa,gBAE5B,CAAA;IAED,2BAAkC,IAAc;QAC9C,MAAM,CAAC,QAAQ,CAAC,IAAI,EAAE,WAAW,CAAC,CAAA;IACpC,CAAC;IAFe,4BAAiB,oBAEhC,CAAA;IAED,wBAA+B,IAAc,EAAE,IAAY;QACzD,MAAM,KAAK,GAAG,QAAQ,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAA;QACtC,KAAK,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,CAAA;QAC/B,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAA;IACpB,CAAC;IAJe,yBAAc,iBAI7B,CAAA;IAED,YAAmB,IAAc,EAAE,GAAW;QAC5C,MAAM,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC,GAAG,CAAC,CAAA;IACvC,CAAC;IAFe,aAAE,KAEjB,CAAA;IAED,cAAqB,IAAc,EAAE,GAAW,EAAE,KAAc;QAC9D,QAAQ,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,KAAK,CAAA;IACxC,CAAC;IAFe,eAAI,OAEnB,CAAA;IAyBD;;OAEG;IACH,qBAA4B,CAAC,EAAE,IAAc;QAC3C,MAAM,MAAM,GAAG,WAAA,KAAK,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAA;QACzC,MAAM,KAAK,GAAG,aAAa,CAAC,IAAI,CAAC,CAAA;QAEjC,sCAAsC;QACtC,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,QAAQ,CAAA;QAC3B,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,QAAQ,CAAA;QAE3B,KAAK,CAAC,QAAQ,GAAG,MAAM,CAAC,CAAC,CAAA;QACzB,KAAK,CAAC,QAAQ,GAAG,MAAM,CAAC,CAAC,CAAA;QAEzB,oBAAoB;QACpB,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,KAAK,SAAS,IAAI,KAAK,CAAC,IAAI,KAAK,SAAS,CAAC,CAAC,CAAC;YACzD,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,QAAQ,CAAA;YAC3B,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,QAAQ,CAAA;QAC7B,CAAC;QAED,iGAAiG;QACjG,yGAAyG;QACzG,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM,KAAK,SAAS,IAAI,KAAK,CAAC,MAAM,KAAK,SAAS,CAAC,CAAC,CAAC;YAC7D,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC,QAAQ,CAAA;YAC7B,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC,QAAQ,CAAA;YAC7B,KAAK,CAAC,UAAU,GAAG,IAAI,CAAC,KAAK,CAAA;YAC7B,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAA;QAC7B,CAAC;QAED,wEAAwE;QACxE,KAAK,CAAC,EAAE,GAAG,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC,MAAM,CAAA;QACxC,KAAK,CAAC,EAAE,GAAG,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC,MAAM,CAAA;QAExC,6EAA6E;QAC7E,KAAK,CAAC,GAAG,GAAG,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAA;QACvC,KAAK,CAAC,GAAG,GAAG,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAA;QAEvC,qCAAqC;QACrC,KAAK,CAAC,GAAG,GAAG,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,CAAA;QAC/C,KAAK,CAAC,GAAG,GAAG,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,CAAA;QAEhD,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,CAAA;QACjD,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,CAAA;IACpD,CAAC;IAxCe,sBAAW,cAwC1B,CAAA;IAED;;OAEG;IACH,oBAA2B,IAAc;QACvC,MAAM,KAAK,GAAG,aAAa,CAAC,IAAI,CAAC,CAAA;QACjC,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC,MAAM,GAAG,SAAS,CAAA;QACvC,KAAK,CAAC,QAAQ,GAAG,KAAK,CAAC,QAAQ,GAAG,SAAS,CAAA;QAC3C,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI,GAAG,SAAS,CAAA;QACnC,KAAK,CAAC,EAAE,GAAG,KAAK,CAAC,EAAE,GAAG,CAAC,CAAA;QACvB,KAAK,CAAC,GAAG,GAAG,KAAK,CAAC,GAAG,GAAG,CAAC,CAAA;QACzB,KAAK,CAAC,GAAG,GAAG,KAAK,CAAC,GAAG,GAAG,CAAC,CAAA;QACzB,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI,GAAG,CAAC,CAAA;IAC7B,CAAC;IATe,qBAAU,aASzB,CAAA;IAYD,oBAAoB,IAAc,EAAE,IAAY;QAC9C,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,QAAQ;YACvB,CAAC,CAAC,WAAA,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,IAAI,CAAC,KAAK,GAAG,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC;YACjD,CAAC,CAAC,WAAA,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,EAAE,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC,CAAA;IAC1C,CAAC;IAED,8BAA8B,IAAc;QAC1C,IAAI,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;QACrC,wDAAwD;QACxD,IAAI,CAAC,KAAK,GAAG,WAAA,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,EAAE,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,CAAA;QACpE,kEAAkE;QAClE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,KAAK,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;YAClD,aAAa,CAAC,IAAI,CAAC,CAAA;QACrB,CAAC;IACH,CAAC;IAED,0BAA0B,IAAc,EAAE,KAAa;QACrD,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,CAAA;QAC1B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI;YACpB,CAAC,CAAC,WAAA,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,EAAE,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC;YACzD,CAAC,CAAC,WAAA,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,EAAE,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAA;IACjD,CAAC;IAED,yBAAyB,IAAc;QACrC,MAAM,KAAK,GAAG,iBAAiB,CAAC,IAAI,CAAC,CAAA;QACrC,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;YAClB,YAAY,CAAC,IAAI,CAAC,CAAA;YAClB,oBAAoB,CAAC,IAAI,CAAC,CAAA;YAC1B,WAAW,CAAC,IAAI,CAAC,CAAA;QACnB,CAAC;IACH,CAAC;IAED,sBAAsB,IAAc;QAClC,MAAM,KAAK,GAAG,iBAAiB,CAAC,IAAI,CAAC,CAAA;QACrC,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAA;QAC5B,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAA;IAC5B,CAAC;IAED,qBAAqB,IAAc;QACjC,MAAM,KAAK,GAAG,iBAAiB,CAAC,IAAI,CAAC,CAAA;QACrC,EAAE,CAAC,CAAC,KAAK,CAAC,SAAS,KAAK,IAAI,CAAC,KAAK,IAAI,KAAK,CAAC,QAAQ,KAAK,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;YACnE,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,gBAAgB,EAAE,IAAI,CAAC,CAAA;QAC7C,CAAC;QACD,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,CAAA;QACpC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAA;IACrC,CAAC;IAED;;OAEG;IACH,qBAA4B,IAAc,EAAE,KAAa,EAAE,IAAa;QACtE,YAAY,CAAC,IAAI,CAAC,CAAA;QAClB,EAAE,CAAC,CAAC,KAAK,KAAK,SAAS,CAAC,CAAC,CAAC;YACxB,gBAAgB,CAAC,IAAI,EAAE,KAAK,CAAC,CAAA;QAC/B,CAAC;QACD,EAAE,CAAC,CAAC,IAAI,KAAK,SAAS,CAAC,CAAC,CAAC;YACvB,UAAU,CAAC,IAAI,EAAE,IAAI,CAAC,CAAA;QACxB,CAAC;QACD,WAAW,CAAC,IAAI,CAAC,CAAA;IACnB,CAAC;IATe,sBAAW,cAS1B,CAAA;IAED;;OAEG;IACH,uBAA8B,IAAc;QAC1C,IAAI,CAAC,OAAO,GAAG,KAAK,CAAA;QACpB,MAAM,KAAK,GAAG,iBAAiB,CAAC,IAAI,CAAC,CAAA;QACrC,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,IAAI,IAAI,CAAC,CAAC,CAAC;YAC1B,MAAM,CAAC,aAAa,CAAC,KAAK,CAAC,OAAO,CAAC,CAAA;YACnC,KAAK,CAAC,OAAO,GAAG,IAAI,CAAA;QACtB,CAAC;IACH,CAAC;IAPe,wBAAa,gBAO5B,CAAA;IAED;;OAEG;IACH,wBAA+B,IAAc;QAC3C,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;YACjB,gBAAgB,CAAC,IAAI,CAAC,CAAA;QACxB,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,aAAa,CAAC,IAAI,CAAC,CAAA;QACrB,CAAC;IACH,CAAC;IANe,yBAAc,iBAM7B,CAAA;IAED,0BAA0B,IAAc;QACtC,MAAM,KAAK,GAAG,iBAAiB,CAAC,IAAI,CAAC,CAAA;QACrC,KAAK,CAAC,OAAO,GAAG,CAAC,KAAK,CAAC,OAAO,IAAI,MAAM,CAAC,WAAW,CAAC,CAAC,GAAG,EAAE;YACzD,eAAe,CAAC,IAAI,CAAC,CAAA;QACvB,CAAC,CAAC,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,CAAA;IACtB,CAAC;IAwPY,YAAC,GAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,IAAI,MAAM,CAAC,GAAG,CAAC,CAAC,CAAA,CAAC,sBAAsB;IAEjG;;OAEG;IACU,oBAAS,GAAG,YAAY,CAAA;IAErC;;;OAGG;IACU,qBAAU,GAAG;QACxB,WAAW;QACX,WAAW;QACX,SAAS;QACT,YAAY;QACZ,WAAW;QACX,YAAY;QACZ,UAAU;QACV,YAAY;QACZ,YAAY;QACZ,WAAW;QACX,UAAU;QACV,aAAa;QACb,aAAa;QACb,cAAc;QACd,eAAe;QACf,YAAY;KACb,CAAA;IAED;;OAEG;IACU,wBAAa,GAAG;QAC3B,QAAQ;QACR,YAAY;QACZ,QAAQ;QACR,gBAAgB;QAChB,SAAS;QACT,QAAQ;QACR,YAAY;KACb,CAAA;IAED;;OAEG;IACU,0BAAe,GAAG;QAC7B,WAAW;KACZ,CAAA;IAED;;;OAGG;IACU,mBAAQ,GAAY;QAC/B,MAAM,EAAc,SAAS;QAC7B,KAAK,EAAe,SAAS;QAC7B,MAAM,EAAc,SAAS;QAC7B,MAAM,EAAc,SAAS;QAC7B,OAAO,EAAa,SAAS;QAC7B,KAAK,EAAe,CAAC;QACrB,QAAQ,EAAY,SAAS;QAE7B,QAAQ,EAAY,QAAQ;QAE5B,IAAI,EAAgB,CAAC;QACrB,KAAK,EAAe,CAAC;QACrB,SAAS,EAAW,EAAE;QACtB,OAAO,EAAa,IAAI;QACxB,OAAO,EAAa,KAAK;QACzB,IAAI,EAAgB,IAAI;QACxB,SAAS,EAAW,CAAC;QAErB,IAAI,EAAgB,IAAI;QACxB,QAAQ,EAAY,KAAK;QACzB,KAAK,EAAe,CAAC;QACrB,SAAS,EAAW,SAAS;QAC7B,WAAW,EAAS,YAAY;QAChC,iBAAiB,EAAG,IAAI;QACxB,eAAe,EAAK,EAAE;QACtB,YAAY,EAAQ,SAAS;QAE7B,UAAU,EAAU,SAAS;QAC7B,OAAO,EAAa;YAClB,KAAK;YACL,MAAM;SACP;KACF,CAAA;IAED;;OAEG;IACH,sBAA6B,IAAc;QACzC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC;YAChD,MAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAA;YAC5B,EAAE,CAAC,CAAC,OAAO,IAAI,KAAK,QAAQ,CAAC,CAAC,CAAC;gBAC7B,QAAQ,CAAA;YACV,CAAC;YACD,MAAM,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,CAAA;YAC5B,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;gBACZ,WAAA,KAAK,CAAC,KAAK,CAAC,4BAA4B,GAAG,IAAI,CAAC,CAAA;gBAChD,QAAQ,CAAA;YACV,CAAC;YACD,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,MAAM,CAAA;QAC1B,CAAC;IACH,CAAC;IAbe,uBAAY,eAa3B,CAAA;IAED;;OAEG;IACH,qBAA4B,IAAc;QACxC,oBAAoB;QACpB,IAAI,CAAC,MAAM;aACR,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC;aAC1B,GAAG,CAAC;YACH,KAAK,EAAE,EAAE;YACT,MAAM,EAAE,EAAE;YACV,iBAAiB,EAAE,MAAM;YACzB,kBAAkB,EAAE,MAAM;YAC1B,oBAAoB,EAAE,MAAM;YAC5B,qBAAqB,EAAE,MAAM;YAC7B,aAAa,EAAE,MAAM;SACtB,CAAC,CAAA;QAEJ,MAAM,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,WAAA,KAAK,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,WAAA,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,CAAA;QACrF,MAAM,MAAM,GAAG,WAAA,KAAK,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,EAAE,WAAA,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAA;QAElF,yBAAyB;QACzB,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;YACd,KAAK,EAAM,IAAI,CAAC,KAAK;YACrB,MAAM,EAAK,IAAI,CAAC,MAAM;YACtB,QAAQ,EAAG,UAAU;YACrB,QAAQ,EAAG,QAAQ;SACpB,CAAC,CAAA;QAEF,wBAAwB;QACxB,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,CAAA;QAE7B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YAAC,MAAM,CAAA;QAAC,CAAC;QAC5B,yBAAyB;QACzB,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,CAAA;QAC9B,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,CAAA;QAEtD,8BAA8B;QAC9B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,IAAI,WAAA,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA;QACrE,EAAE,CAAC,CAAC,OAAO,MAAM,CAAC,KAAK,KAAK,QAAQ,IAAI,OAAO,MAAM,CAAC,MAAM,KAAK,QAAQ,CAAC,CAAC,CAAC;YAC1E,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAE,MAAM,CAAC,KAAgB,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,IAAI,CAAC,KAAK,CAAA;YAClF,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAE,MAAM,CAAC,MAAiB,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,IAAI,CAAC,MAAM,CAAA;QACvF,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,CAAA;YACtD,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,CAAA;QAC1D,CAAC;IACH,CAAC;IA1Ce,sBAAW,cA0C1B,CAAA;IAED;;OAEG;IACH,qBAA4B,IAAc;QACxC,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAA;QAE1B,oDAAoD;QACpD,WAAA,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAA;QAEpB,+DAA+D;QAC/D,uCAAuC;QACvC,GAAG,CAAC,CAAC,MAAM,KAAK,IAAI,UAAU,CAAC,eAAe,CAAC,CAAC,CAAC;YAC/C,WAAA,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,KAAK,EAAE,WAAA,KAAK,CAAC,OAAO,CAAC,CAAA;QAC1C,CAAC;QAED,6CAA6C;QAC7C,GAAG,CAAC,CAAC,MAAM,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;YAClC,GAAG,CAAC,CAAC,MAAM,KAAK,IAAI,UAAU,CAAC,UAAU,CAAC,CAAC,CAAC;gBAC1C,WAAA,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,KAAK,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,CAAA;YAC1C,CAAC;YACD,GAAG,CAAC,CAAC,MAAM,KAAK,IAAI,UAAU,CAAC,aAAa,CAAC,CAAC,CAAC;gBAC7C,WAAA,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,KAAK,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,CAAA;YAC1C,CAAC;QACH,CAAC;QAED,0CAA0C;QAC1C,WAAA,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,QAAQ,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;YACpC,cAAc,CAAC,CAAC,CAAC,CAAA;QACnB,CAAC,CAAC,CAAA;QAEF,+DAA+D;QAC/D,GAAG,CAAC,CAAC,MAAM,KAAK,IAAI,UAAU,CAAC,aAAa,CAAC,CAAC,CAAC;YAC7C,WAAA,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAA;QACxC,CAAC;IACH,CAAC;IA/Be,sBAAW,cA+B1B,CAAA;IAED,sBAAsB,IAAc;QAClC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YACjB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAA;QACnB,CAAC;QACD,IAAI,CAAC,OAAO,GAAG,WAAA,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,CAAA;QAC/C,MAAM,IAAI,GAAG,WAAA,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC,CAAA;QAC7D,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YAChB,6CAA6C;YAC7C,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAA;YACnC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAA;QACvC,CAAC;IACH,CAAC;IAED;;OAEG;IACH,cAAqB,IAAc;QACjC,YAAY,CAAC,IAAI,CAAC,CAAA;QAClB,WAAW,CAAC,IAAI,CAAC,CAAA;QACjB,WAAW,CAAC,IAAI,CAAC,CAAA;QAEjB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAA;QACnB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAA;QACvD,WAAA,KAAK,CAAC,OAAO,CAAC;YACZ,MAAM,EAAE,IAAI,CAAC,MAAM;YACnB,YAAY,EAAE,IAAI,CAAC,YAAY;YAC/B,QAAQ,EAAE,CAAC,QAAQ,EAAE,EAAE;gBACrB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAA;gBACxB,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,YAAY,EAAE,IAAI,CAAC,CAAA;YACzC,CAAC;YACD,QAAQ,EAAE,CAAC,MAAM,EAAE,EAAE;gBACnB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAA;gBACpB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAA;gBACpB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,IAAI,MAAM,CAAC,MAAM,CAAA;gBAE1C,YAAY,CAAC,IAAI,CAAC,CAAA;gBAClB,WAAW,CAAC,IAAI,CAAC,CAAA;gBACjB,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAA;gBACjB,IAAI,CAAC,MAAM;qBACR,WAAW,CAAC,SAAS,CAAC;qBACtB,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC;qBACvB,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC;qBACxB,OAAO,CAAC,QAAQ,EAAE,IAAI,CAAC;qBACvB,OAAO,CAAC,YAAY,EAAE,IAAI,CAAC,CAAA;YAChC,CAAC;SACF,CAAC,CAAA;IACJ,CAAC;IA9Be,eAAI,OA8BnB,CAAA;IAED,qBAAqB,OAAgB;QACnC,MAAM,KAAK,GAAG,OAAO,CAAC,MAAM,CAAA;QAE5B,gCAAgC;QAChC,+DAA+D;QAC/D,MAAM,IAAI,GAAG,WAAA,CAAC,CAAC,MAAM,CAAC,EAAE,EAAE,WAAA,QAAQ,EAAE,OAAO,CAAa,CAAA;QAExD,uBAAuB;QACvB,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,IAAI,EAAE,CAAA;QAC/B,yBAAyB;QACzB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,IAAI,EAAE,CAAA;QAEjC,sDAAsD;QACtD,uCAAuC;QACvC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE;YAC1B,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;gBAChC,IAAI,CAAC,MAAM,GAAG,EAAE,CAAA;YAClB,CAAC;YACD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,WAAA,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAA;QACvC,CAAC,CAAC,CAAA;QAEF,mBAAmB;QACnB,QAAQ;QACR,yCAAyC;QACzC,gDAAgD;QAChD,SAAS;QACT,KAAK;aACF,KAAK,EAAE;aACP,QAAQ,CAAC,qBAAqB,CAAC;aAC/B,MAAM,CAAC,sCAAsC,CAAC,CAAA;QAEjD,sEAAsE;QACtE,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,KAAK,QAAQ,CAAC,CAAC,CAAC;YAC/B,MAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAA;YAC/C,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,UAAU,IAAI,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;gBACrD,IAAI,CAAC,MAAM,GAAG,WAAA,CAAC,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,mBAAmB,CAAC,CAAA;gBACrD,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAA;gBACtC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;gBACzB,KAAK,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAA;YAC/B,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,mCAAmC;gBACnC,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAA;YACzB,CAAC;QACH,CAAC;QAED,mCAAmC;QACnC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAA;QACnB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAA;QAE5C,iBAAiB;QACjB,KAAK,CAAC,IAAI,CAAC,WAAA,SAAS,EAAE,IAAI,CAAC,CAAA;QAC3B,YAAY,CAAC,IAAI,CAAC,CAAA;QAElB,MAAM,CAAC,IAAI,CAAA;IACb,CAAC;IAED,oBAAoB,IAAc;QAEhC,iBAAiB;QACjB,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;YACjB,WAAA,KAAK,CAAC,IAAI,CAAC,oDAAoD,CAAC,CAAA;YAChE,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,CAAA;QAC7B,CAAC;QACD,gBAAgB;QAEhB,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YACjC,WAAA,KAAK,CAAC,IAAI,CAAC,uEAAuE,CAAC,CAAA;YACnF,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBAClB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAA;YAClC,CAAC;YACD,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;gBAChB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;YAChC,CAAC;YAED,OAAO,IAAI,CAAC,QAAQ,CAAA;YACpB,OAAO,IAAI,CAAC,MAAM,CAAA;QACpB,CAAC;IACH,CAAC;IAED;;OAEG;IACH,wBAA+B,OAAgB;QAC7C,QAAQ,EAAE,CAAA;QAEV,MAAM,KAAK,GAAG,OAAO,CAAC,MAAM,CAAA;QAC5B,IAAI,IAAI,GAAI,KAAK,CAAC,IAAI,CAAC,WAAA,SAAS,CAAa,CAAA;QAE7C,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;YACV,IAAI,GAAG,WAAW,CAAC,OAAO,CAAC,CAAA;QAC7B,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,8BAA8B;YAC9B,WAAA,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,OAAO,CAAC,CAAA;QACzB,CAAC;QAED,IAAI,CAAC,MAAM,GAAG,WAAA,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;QAExC,UAAU,CAAC,IAAI,CAAC,CAAA;QAEhB,IAAI,CAAC,IAAI,CAAC,CAAA;IACZ,CAAC;IAlBe,yBAAc,iBAkB7B,CAAA;IAED;;OAEG;IACH,iBAAwB,IAAc;QACpC,WAAW,CAAC,IAAI,CAAC,CAAA;QACjB,aAAa,CAAC,IAAI,CAAC,CAAA;QACnB,WAAA,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;QACzB,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,WAAA,SAAS,CAAC,CAAA;IACnC,CAAC;IALe,kBAAO,UAKtB,CAAA;IAED,mBAAmB,GAAG,EAAE,KAAK;QAC3B,EAAE,CAAC,CAAC,GAAG,KAAK,MAAM,CAAC,CAAC,CAAC;YACnB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,WAAA,SAAS,CAAC,CAAA;QAC7B,CAAC;QACD,EAAE,CAAC,CAAC,GAAG,KAAK,KAAK,CAAC,CAAC,CAAC;YAClB,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,WAAA,SAAS,CAAC,CAAA;YACjC,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,CAAA;YAC/C,MAAM,CAAC,IAAI,CAAC,GAAG,CAAA;QACjB,CAAC;QACD,EAAE,CAAC,CAAC,GAAG,KAAK,SAAS,CAAC,CAAC,CAAC;YACtB,MAAM,CAAC,WAAA,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE;gBACvB,UAAU,CAAC,OAAO,CAAC,WAAA,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,WAAA,SAAS,CAAC,CAAC,CAAA;YAC7C,CAAC,CAAC,CAAA;QACJ,CAAC;QACD,EAAE,CAAC,CAAC,SAAS,CAAC,MAAM,KAAK,CAAC,IAAI,OAAO,GAAG,KAAK,QAAQ,CAAC,CAAC,CAAC;YACtD,MAAM,GAAG,GAAG,EAAE,CAAA;YACd,GAAG,CAAC,GAAG,CAAC,GAAG,KAAK,CAAA;YAChB,GAAG,GAAG,GAAG,CAAA;QACX,CAAC;QACD,EAAE,CAAC,CAAC,OAAO,GAAG,KAAK,QAAQ,CAAC,CAAC,CAAC;YAC5B,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC,MAAM,IAAI,WAAA,CAAC,CAAC,IAAI,CAAC,CAAA;YAClC,UAAU,CAAC,cAAc,CAAC,GAAG,CAAC,CAAA;YAC9B,MAAM,CAAC,GAAG,CAAC,MAAM,CAAA;QACnB,CAAC;QAED,MAAM,CAAC,WAAA,CAAC,CAAC,KAAK,CAAC,4BAA4B,CAAC,CAAA;IAC9C,CAAC;IAED,WAAA,CAAC,CAAC,EAAE,CAAC,UAAU,GAAG,SAAS,CAAA;AAC7B,CAAC,EAj8BS,UAAU,KAAV,UAAU,QAi8BnB;ACl8BD,IAAU,UAAU,CAmBnB;AAnBD,WAAU,UAAU;IAAC,IAAA,KAAK,CAmBzB;IAnBoB,WAAA,KAAK;QACxB,2BAAkC,KAAK;YACrC,IAAI,OAAO,GAAG,KAAK,CAAC,OAAO,CAAA;YAC3B,IAAI,MAAM,GAAG,KAAK,CAAA;YAElB,mEAAmE;YACnE,8CAA8C;YAC9C,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,KAAK,SAAS,IAAI,KAAK,CAAC,aAAa,KAAK,SAAS,CAAC,CAAC,CAAC;gBACrE,OAAO,GAAG,KAAK,CAAC,aAAa,CAAC,OAAO,CAAA;YACvC,CAAC;YACD,sCAAsC;YACtC,EAAE,CAAC,CAAC,OAAO,KAAK,SAAS,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;gBAChD,MAAM,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAA;YAC3B,CAAC;YACD,MAAM,CAAC;gBACL,CAAC,EAAE,MAAM,CAAC,OAAO,IAAI,CAAC;gBACtB,CAAC,EAAE,MAAM,CAAC,OAAO,IAAI,CAAC;aACvB,CAAA;QACH,CAAC;QAjBe,uBAAiB,oBAiBhC,CAAA;IACH,CAAC,EAnBoB,KAAK,GAAL,gBAAK,KAAL,gBAAK,QAmBzB;AAAD,CAAC,EAnBS,UAAU,KAAV,UAAU,QAmBnB;ACnBD,IAAU,UAAU,CAuDnB;AAvDD,WAAU,UAAU;IAAC,IAAA,KAAK,CAuDzB;IAvDoB,WAAA,KAAK;QAExB,IAAI,MAAM,CAAA;QACV,IAAI,OAAO,CAAA;QAEX;YACE,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;gBACZ,MAAM,CAAC,OAAO,CAAA;YAChB,CAAC;YAED,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;gBACZ,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAA;YAC3C,CAAC;YACD,EAAE,CAAC,CAAC,CAAC,MAAM,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC;gBAClC,MAAM,CAAC,IAAI,CAAA;YACb,CAAC;YAED,OAAO,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAA;YACjC,MAAM,CAAC,OAAO,CAAA;QAChB,CAAC;QAED;;;;WAIG;QACH,2BAAkC,GAAqB,EAAE,KAAa,EAAE,MAAc;YAEpF,EAAE,CAAC,CAAC,CAAC,gBAAgB,EAAE,CAAC,CAAC,CAAC;gBACxB,MAAM,CAAC,KAAK,CAAA;YACd,CAAC;YAED,mDAAmD;YACnD,EAAE,CAAC,CAAC,KAAK,GAAG,MAAM,IAAI,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC;gBAClC,MAAM,CAAC,KAAK,CAAA;YACd,CAAC;YAED,8DAA8D;YAC9D,MAAM,CAAC,KAAK,GAAG,MAAM,CAAC,MAAM,GAAG,CAAC,CAAA;YAChC,OAAO,CAAC,SAAS,GAAG,SAAS,CAAA;YAC7B,OAAO,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAA;YAC5B,uEAAuE;YACvE,+DAA+D;YAC/D,OAAO,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,KAAK,GAAG,CAAC,EAAE,CAAC,CAAC,CAAA;YAErC,oEAAoE;YACpE,kEAAkE;YAClE,IAAI,CAAC;gBACH,MAAM,GAAG,GAAG,OAAO,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAA;gBACjD,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,CAAA;YAC/D,CAAC;YAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;gBACb,2EAA2E;gBAC3E,MAAM,CAAC,KAAK,CAAA;YACd,CAAC;QACH,CAAC;QA5Be,uBAAiB,oBA4BhC,CAAA;IACH,CAAC,EAvDoB,KAAK,GAAL,gBAAK,KAAL,gBAAK,QAuDzB;AAAD,CAAC,EAvDS,UAAU,KAAV,UAAU,QAuDnB;ACvDD,IAAU,UAAU,CA6HnB;AA7HD,WAAU,UAAU;IAAC,IAAA,KAAK,CA6HzB;IA7HoB,WAAA,KAAK;QA6BxB;;WAEG;QACH,sBAA6B,IAAgB;YAC3C,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,CAAC,CAAA;YACnF,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,CAAA;YACvF,MAAM,CAAC;gBACL,MAAM,EAAE,KAAK,GAAG,MAAM;gBACtB,MAAM;gBACN,KAAK;aACN,CAAA;QACH,CAAC;QARe,kBAAY,eAQ3B,CAAA;QAED,yBAAgC,IAAgB;YAC9C,MAAM,IAAI,GAAG,YAAY,CAAC,IAAI,CAAC,CAAA;YAC/B,EAAE,CAAC,CAAC,OAAO,MAAM,CAAC,gBAAgB,KAAK,UAAU,CAAC,CAAC,CAAC;gBAAC,MAAM,CAAC,IAAI,CAAA;YAAC,CAAC;YAElE,MAAM,KAAK,GAAG,MAAM,CAAC,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAA;YACrD,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;gBAAC,MAAM,CAAC,IAAI,CAAA;YAAC,CAAC;YAEjC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,CAAC,CAAA;YAC9D,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,CAAA;YAClD,MAAM,CAAC,IAAI,CAAA;QACb,CAAC;QAVe,qBAAe,kBAU9B,CAAA;QAED;;WAEG;QACH,sBAA6B,IAAgB;YAC3C,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,CAAC,CAAA;YACnF,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,CAAA;YACvF,MAAM,CAAC;gBACL,MAAM,EAAE,KAAK,GAAG,MAAM;gBACtB,MAAM;gBACN,KAAK;aACN,CAAA;QACH,CAAC;QARe,kBAAY,eAQ3B,CAAA;QAED;;WAEG;QACH,wBAA+B,IAAc,EAAE,KAAqB,EAAE,KAAqB;YAEzF,WAAW;YACX,MAAM,KAAK,GAAG,IAAI,KAAK,KAAK,CAAA;YAC5B,MAAM,MAAM,GAAG,IAAI,KAAK,MAAM,CAAA;YAC9B,MAAM,OAAO,GAAG,IAAI,KAAK,SAAS,CAAA;YAElC,mBAAmB;YACnB,MAAM,MAAM,GAAW;gBACrB,KAAK,EAAM,MAAM;gBACjB,MAAM,EAAK,MAAM;gBACjB,GAAG,EAAQ,CAAC;gBACZ,IAAI,EAAO,CAAC;gBACZ,MAAM,EAAK,CAAC;gBACZ,KAAK,EAAM,CAAC;gBACZ,QAAQ,EAAG,UAAU;gBACrB,QAAQ,EAAG,QAAQ;aACpB,CAAA;YAED,sBAAsB;YACtB,EAAE,CAAC,CAAC,CAAC,IAAI,IAAI,OAAO,CAAC,CAAC,CAAC;gBACrB,MAAM,CAAC,MAAM,CAAA;YACf,CAAC;YAED,sBAAsB;YACtB,MAAM,eAAe,GAAG,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,MAAM,CAAA;YAEpD,mBAAmB;YACnB,IAAI,KAAK,GAAG,KAAK,CAAC,KAAK,CAAA;YACvB,IAAI,MAAM,GAAG,KAAK,CAAC,MAAM,CAAA;YAEzB,gDAAgD;YAChD,EAAE,CAAC,CAAC,KAAK,IAAI,eAAe,IAAI,MAAM,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;gBAC3D,KAAK,GAAG,KAAK,CAAC,KAAK,CAAA;gBACnB,MAAM,GAAG,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,MAAM,CAAA;YACrC,CAAC;YACD,EAAE,CAAC,CAAC,MAAM,IAAI,eAAe,IAAI,KAAK,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;gBAC3D,MAAM,GAAG,KAAK,CAAC,MAAM,CAAA;gBACrB,KAAK,GAAG,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC,MAAM,CAAA;YACrC,CAAC;YAED,oBAAoB;YACpB,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAA;YACzB,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAA;YAE3B,qBAAqB;YACrB,MAAM,CAAC,KAAK,GAAG,KAAK,CAAA;YACpB,MAAM,CAAC,MAAM,GAAG,MAAM,CAAA;YACtB,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,CAAA;YACpD,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAA;YACnD,MAAM,CAAC,KAAK,GAAG,MAAM,CAAC,IAAI,CAAA;YAC1B,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,GAAG,CAAA;YAE1B,MAAM,CAAC,MAAM,CAAA;QACf,CAAC;QAtDe,oBAAc,iBAsD7B,CAAA;IACH,CAAC,EA7HoB,KAAK,GAAL,gBAAK,KAAL,gBAAK,QA6HzB;AAAD,CAAC,EA7HS,UAAU,KAAV,UAAU,QA6HnB;AC7HD,IAAU,UAAU,CAyHnB;AAzHD,WAAU,UAAU;IAAC,IAAA,KAAK,CAyHzB;IAzHoB,WAAA,KAAK;QAyCxB;;WAEG;QACH,iBAAwB,MAA0B,EAAE,OAA4B;YAC9E,EAAE,CAAC,CAAC,MAAM,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC;gBACxB,MAAM,CAAC,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,CAAA;YAC3C,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,MAAM,CAAC,aAAa,CAAC,MAAM,EAAE,OAAO,CAAC,CAAA;YACvC,CAAC;QACH,CAAC;QANe,aAAO,UAMtB,CAAA;QAED,sBAAsB,KAAuB,EAAE,OAA4B;YACzE,MAAM,MAAM,GAAc,EAAE,EAAE,EAAE,CAAC,EAAE,OAAO,EAAE,EAAE,EAAS,CAAA;YACvD,YAAY,CAAC,KAAK,EAAE,OAAO,EAAE,MAAM,CAAC,CAAA;YACpC,MAAM,MAAM,GAAG,OAAO,CAAC,MAAM,CAAA;YAC7B,MAAM,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,MAAM,CAAA;YACjD,MAAM,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,CAAA;YAC3C,MAAM,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,GAAG,OAAO,CAAC,CAAA;YACrD,MAAM,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,GAAG,OAAO,CAAC,CAAA;YACvD,MAAM,OAAO,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;YAC3C,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAChC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,OAAO,CAAC,GAAG,UAAU,CAAA;gBACpC,MAAM,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,OAAO,CAAC,GAAG,WAAW,CAAA;gBAC/C,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC;oBAClB,EAAE,EAAE,CAAC;oBACL,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;oBACV,KAAK,EAAE,UAAU;oBACjB,MAAM,EAAE,WAAW;oBACnB,QAAQ,EAAE,CAAC,GAAG,OAAO;oBACrB,QAAQ,EAAE,CAAC,GAAG,OAAO;oBACrB,YAAY,EAAE,UAAU,GAAG,OAAO;oBAClC,aAAa,EAAE,WAAW,GAAG,OAAO;iBACrC,CAAC,CAAA;YACJ,CAAC;YACD,MAAM,CAAC,MAAM,CAAA;QACf,CAAC;QAED,uBAAuB,MAA0B,EAAE,OAA4B;YAC7E,MAAM,MAAM,GAAgB,EAAE,CAAA;YAC9B,GAAG,CAAC,CAAC,IAAI,EAAE,GAAG,CAAC,EAAE,EAAE,GAAG,MAAM,CAAC,MAAM,EAAE,EAAE,EAAE,EAAE,CAAC;gBAC1C,iBAAiB;gBACjB,2CAA2C;gBAC3C,MAAM,KAAK,GAAG,YAAY,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,EAAE,MAAM,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,EAAE,iBAAiB,EAAE,OAAO,CAAC,iBAAiB,EAAE,CAAC,CAAA;gBAC/G,KAAK,CAAC,EAAE,GAAG,EAAE,CAAA;gBACb,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA;YACpB,CAAC;YACD,MAAM,CAAC,MAAM,CAAA;QACf,CAAC;QAED,sBAAsB,KAAuB,EAAE,OAA4B,EAAE,MAAiB;YAC5F,MAAM,IAAI,GAAG,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAA;YACrC,MAAM,CAAC,YAAY,GAAG,OAAO,CAAC,iBAAiB,IAAI,KAAK,CAAC,iBAAiB,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAA;YAC1G,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAA;YACzB,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAA;YAC3B,MAAM,CAAC,YAAY,GAAG,IAAI,CAAC,KAAK,GAAG,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;YAChE,MAAM,CAAC,aAAa,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;YAClE,MAAM,CAAC,MAAM,CAAA;QACf,CAAC;QAED,mBAA0B,OAAoB,EAAE,MAAc,EAAE,KAAa,EAAE,IAAY;YACzF,IAAI,QAAQ,GAAG,IAAI,GAAG,MAAM,GAAG,KAAK,CAAA;YACpC,IAAI,OAAO,GAAG,CAAC,CAAA;YACf,IAAI,MAAM,GAAgC,IAAI,CAAA;YAC9C,IAAI,KAAK,GAA+B,IAAI,CAAA;YAE5C,OAAO,IAAI,EAAE,CAAC;gBACZ,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAA;gBACxB,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;oBAAC,KAAK,CAAA;gBAAC,CAAC;gBAErB,EAAE,CAAC,CAAC,QAAQ,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;oBACrC,QAAQ,IAAI,KAAK,CAAC,OAAO,CAAC,MAAM,CAAA;oBAChC,OAAO,EAAE,CAAA;oBACT,QAAQ,CAAA;gBACV,CAAC;gBAED,MAAM,GAAG,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAA;gBAChC,KAAK,CAAA;YACP,CAAC;YACD,MAAM,CAAC,EAAE,MAAM,EAAE,KAAK,EAAE,CAAA;QAC1B,CAAC;QApBe,eAAS,YAoBxB,CAAA;IACH,CAAC,EAzHoB,KAAK,GAAL,gBAAK,KAAL,gBAAK,QAyHzB;AAAD,CAAC,EAzHS,UAAU,KAAV,UAAU,QAyHnB;ACzHD,IAAU,UAAU,CA6BnB;AA7BD,WAAU,UAAU;IAAC,IAAA,KAAK,CA6BzB;IA7BoB,WAAA,KAAK;QAExB,IAAI,GAAqB,CAAA;QAEzB;;WAEG;QACH,qBAA4B,KAAuB;YACjD,sEAAsE;YACtE,EAAE,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC;gBACvB,MAAM,CAAC;oBACL,MAAM,EAAE,KAAK,CAAC,aAAa;oBAC3B,KAAK,EAAE,KAAK,CAAC,YAAY;iBAC1B,CAAA;YACH,CAAC;YAED,4GAA4G;YAC5G,4GAA4G;YAC5G,wGAAwG;YACxG,aAAa;YACb,EAAE;YACF,oFAAoF;YACpF,GAAG,GAAG,GAAG,IAAI,IAAI,KAAK,EAAE,CAAA;YACxB,GAAG,CAAC,GAAG,GAAG,KAAK,CAAC,GAAG,CAAA;YACnB,MAAM,CAAC;gBACL,MAAM,EAAE,GAAG,CAAC,MAAM;gBAClB,KAAK,EAAE,GAAG,CAAC,KAAK;aACjB,CAAA;QACH,CAAC;QArBe,iBAAW,cAqB1B,CAAA;IACH,CAAC,EA7BoB,KAAK,GAAL,gBAAK,KAAL,gBAAK,QA6BzB;AAAD,CAAC,EA7BS,UAAU,KAAV,UAAU,QA6BnB;AC7BD,IAAU,UAAU,CA+EnB;AA/ED,WAAU,UAAU;IAAC,IAAA,KAAK,CA+EzB;IA/EoB,WAAA,KAAK;QAExB,iBAAiB,OAAY,EAAE,GAAU;YACvC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBACpC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,OAAO,CAAC,CAAC,CAAC;oBACvB,MAAM,CAAC,CAAC,CAAA;gBACV,CAAC;YACH,CAAC;QACH,CAAC;QAED;YACE,EAAE;QACJ,CAAC;QAqBD,iBAAwB,IAAoB;YAC1C,IAAI,GAAa,CAAA;YACjB,MAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAA;YACzB,GAAG,GAAG,OAAO,KAAK,KAAK,QAAQ,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAA;YACjD,uDAAuD;YAEvD,MAAM,MAAM,GAAG,EAAE,CAAA;YACjB,MAAM,WAAW,GAAG,CAAC,IAAI,CAAC,YAAY,IAAI,GAAG,CAAC,MAAM,CAAC,CAAA;YACrD,MAAM,WAAW,GAAG,IAAI,CAAC,SAAS,IAAI,IAAI,CAAA;YAC1C,MAAM,UAAU,GAAG,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAA;YACxC,MAAM,UAAU,GAAG,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAA;YAExC,IAAI,KAAK,GAAG,CAAC,CAAA;YACb,IAAI,SAAS,GAAG,KAAK,CAAA;YACrB,IAAI,WAAW,GAAG,KAAK,CAAA;YAEvB,MAAM,IAAI,GAAG;gBACX,KAAK,IAAI,CAAC,CAAA;gBAEV,UAAU,CAAC;oBACT,KAAK,EAAE,OAAO,CAAC,IAAI,EAAE,MAAM,CAAC;oBAC5B,MAAM,EAAE,KAAK;oBACb,KAAK,EAAE,GAAG,CAAC,MAAM;oBACjB,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,GAAG,GAAG,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC;iBAChD,CAAC,CAAA;gBAEF,WAAW,GAAG,WAAW,IAAI,CAAC,IAAI,KAAK,MAAM,CAAC,CAAC,CAAC,CAAC,CAAA;gBAEjD,EAAE,CAAC,CAAC,WAAW,IAAI,CAAC,SAAS,IAAI,CAAC,KAAK,IAAI,WAAW,CAAC,CAAC,CAAC,CAAC;oBACxD,SAAS,GAAG,IAAI,CAAA;oBAChB,UAAU,CAAC,MAAM,CAAC,CAAA;gBACpB,CAAC;YACH,CAAC,CAAA;YAED,GAAG,CAAC,CAAC,MAAM,GAAG,IAAI,GAAG,CAAC,CAAC,CAAC;gBACtB,MAAM,GAAG,GAAG,IAAI,KAAK,EAAE,CAAA;gBACvB,cAAc;gBACd,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA;gBAChB,2CAA2C;gBAC3C,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC,OAAO,GAAG,GAAG,CAAC,OAAO,GAAG,IAAI,CAAA;gBAC7C,aAAa;gBACb,GAAG,CAAC,GAAG,GAAG,GAAG,CAAA;YACf,CAAC;YAED,WAAW,CAAC,MAAM,CAAC,CAAA;QACrB,CAAC;QA7Ce,aAAO,UA6CtB,CAAA;IACH,CAAC,EA/EoB,KAAK,GAAL,gBAAK,KAAL,gBAAK,QA+EzB;AAAD,CAAC,EA/ES,UAAU,KAAV,UAAU,QA+EnB;AC/ED,IAAU,UAAU,CA2CnB;AA3CD,WAAU,UAAU;IAAC,IAAA,KAAK,CA2CzB;IA3CoB,WAAA,KAAK;QAExB,mBAAmB,GAAG,EAAE,MAAM,EAAE,GAAG;YACjC,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC,CAAA;YACjB,OAAO,GAAG,CAAC,MAAM,GAAG,MAAM,EAAE,CAAC;gBAC3B,GAAG,GAAG,MAAM,CAAC,GAAG,CAAC,GAAG,GAAG,CAAA;YACzB,CAAC;YACD,MAAM,CAAC,GAAG,CAAA;QACZ,CAAC;QAED;;;;;;;;;WASG;QACH,qBAA4B,IAAI,EAAE,IAAI;YACpC,IAAI,MAAM,GAAG,CAAC,EAAE,IAAI,GAAG,CAAC,EAAE,MAAM,GAAG,CAAC,EAAE,IAAI,GAAG,CAAC,CAAA;YAC9C,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,IAAI,CAAC,CAAA;YAE/B,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;gBACf,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;gBACtB,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;YACtB,CAAC;YACD,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;gBACd,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;gBACrB,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;YACrB,CAAC;YACD,IAAI,CAAC,EAAE,CAAC,EAAE,IAAI,CAAA;YACd,MAAM,MAAM,GAAG,EAAE,CAAA;YACjB,GAAG,CAAC,CAAC,CAAC,GAAG,MAAM,EAAE,CAAC,IAAI,IAAI,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC;gBACnC,GAAG,CAAC,CAAC,CAAC,GAAG,MAAM,EAAE,CAAC,IAAI,IAAI,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC;oBACnC,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC,CAAA;oBACtD,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC,CAAA;oBACvD,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;gBACnB,CAAC;YACH,CAAC;YACD,MAAM,CAAC,MAAM,CAAA;QACf,CAAC;QAtBe,iBAAW,cAsB1B,CAAA;IACH,CAAC,EA3CoB,KAAK,GAAL,gBAAK,KAAL,gBAAK,QA2CzB;AAAD,CAAC,EA3CS,UAAU,KAAV,UAAU,QA2CnB;AACD,WAAU,UAAU;IACL,sBAAW,GAAG,WAAA,KAAK,CAAC,WAAW,CAAA;AAC9C,CAAC,EAFS,UAAU,KAAV,UAAU,QAEnB;AC9CD,IAAU,UAAU,CA6EnB;AA7ED,WAAU,UAAU;IAAC,IAAA,KAAK,CA6EzB;IA7EoB,WAAA,KAAK;QACxB;YACE,OAAO;QACT,CAAC;QAFe,UAAI,OAEnB,CAAA;QAED,qBAAqB,IAAY;YAC/B,MAAM,CAAC,OAAO,IAAI,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAW,EAAE,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAA;QAC/F,CAAC;QAEY,SAAG,GAAG,WAAW,CAAC,KAAK,CAAC,CAAA;QACxB,UAAI,GAAG,WAAW,CAAC,MAAM,CAAC,CAAA;QAC1B,WAAK,GAAG,WAAW,CAAC,OAAO,CAAC,CAAA;QAEzC,iBAA2B,KAAc;YACvC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAA;QAC/C,CAAC;QAFe,aAAO,UAEtB,CAAA;QAED;;WAEG;QACH,eAAsB,KAAK,EAAE,GAAG,EAAE,GAAG;YACnC,MAAM,CAAC,CAAC,KAAK,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAA;QAC1D,CAAC;QAFe,WAAK,QAEpB,CAAA;QAED;;WAEG;QACH,cAAqB,KAAK,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI;YACxC,OAAO,KAAK,GAAG,GAAG,EAAE,CAAC;gBAAC,KAAK,IAAI,IAAI,CAAA;YAAC,CAAC;YACrC,OAAO,KAAK,GAAG,GAAG,EAAE,CAAC;gBAAC,KAAK,IAAI,IAAI,CAAA;YAAC,CAAC;YACrC,MAAM,CAAC,KAAK,CAAA;QACd,CAAC;QAJe,UAAI,OAInB,CAAA;QAED;;WAEG;QACH,iBAAwB,CAAC;YACvB,CAAC,CAAC,cAAc,EAAE,CAAA;YAClB,MAAM,CAAC,KAAK,CAAA;QACd,CAAC;QAHe,aAAO,UAGtB,CAAA;QAED;;;WAGG;QACH,cAAqB,MAAM,EAAE,KAAK,EAAE,IAAI;YACtC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;gBACT,MAAM,CAAC,IAAI,CAAC,KAAK,GAAG,GAAG,GAAG,UAAU,CAAC,SAAS,EAAE,CAAC,CAAC,EAAE,EAAE;oBACpD,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC,EAAE,MAAM,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,CAAA;gBACpD,CAAC,CAAC,CAAA;YACJ,CAAC;QACH,CAAC;QANe,UAAI,OAMnB,CAAA;QAED;;WAEG;QACH,gBAAuB,MAAW;YAChC,MAAM,CAAC,MAAM,CAAC,GAAG,GAAG,UAAU,CAAC,SAAS,CAAC,CAAA;QAC3C,CAAC;QAFe,YAAM,SAErB,CAAA;QAED;;WAEG;QACH,oBAA2B,EAAO;YAChC,MAAM,CAAC,OAAO,EAAE,KAAK,UAAU,CAAA;QACjC,CAAC;QAFe,gBAAU,aAEzB,CAAA;QAED,oBAA2B,OAAO;YAChC,MAAM,gBAAgB,GAAG,MAAM,CAAC,gBAAgB,IAAI,CAAC,CAAA;YACrD,MAAM,iBAAiB,GACrB,OAAO,CAAC,4BAA4B;gBACpC,OAAO,CAAC,yBAAyB;gBACjC,OAAO,CAAC,wBAAwB;gBAChC,OAAO,CAAC,uBAAuB;gBAC/B,OAAO,CAAC,sBAAsB,IAAI,CAAC,CAAA;YACrC,MAAM,CAAC,gBAAgB,GAAG,iBAAiB,CAAA;QAC7C,CAAC;QATe,gBAAU,aASzB,CAAA;IACH,CAAC,EA7EoB,KAAK,GAAL,gBAAK,KAAL,gBAAK,QA6EzB;AAAD,CAAC,EA7ES,UAAU,KAAV,UAAU,QA6EnB;AC7ED,0CAA0C;AAC1C,sCAAsC;AAEtC,IAAU,UAAU,CAgGnB;AAhGD,WAAU,UAAU;IAElB,UAAU,CAAC,WAAW,CAAC;QACrB,sEAAsE;QACtE,SAAS,EAAE;YACT,MAAM,CAAC,UAAU,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,OAAO,IAAI,IAAI,CAAA;QAChE,CAAC;QAED,oEAAoE;QACpE,SAAS,EAAE;YACT,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAA;QACvB,CAAC;QAED,sCAAsC;QACtC,eAAe,EAAE;YACf,EAAE,CAAC,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;gBACrB,IAAI,CAAC,aAAa,EAAE,CAAA;YACtB,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,IAAI,CAAC,cAAc,EAAE,CAAA;YACvB,CAAC;QACH,CAAC;QAED,2BAA2B;QAC3B,aAAa,EAAE;YACb,IAAI,CAAC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAA;YACzB,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;QACrC,CAAC;QAED,4BAA4B;QAC5B,cAAc,EAAE;YACd,IAAI,CAAC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAA;YACxB,UAAU,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;QACtC,CAAC;QAED,yEAAyE;QACzE,kFAAkF;QAClF,IAAI,EAAE,UAAS,KAAK;YAClB,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,KAAK,CAAA;YACtB,UAAU,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;YACpC,MAAM,CAAC,IAAI,CAAA;QACb,CAAC;QAED,gCAAgC;QAChC,YAAY,EAAE;YACZ,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAA;QACxB,CAAC;QAED,6CAA6C;QAC7C,WAAW,EAAE,UAAS,KAAK;YACzB,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,CAAA;YACxC,MAAM,CAAC,IAAI,CAAA;QACb,CAAC;QAED,mCAAmC;QACnC,UAAU,EAAE,UAAS,IAAI;YACvB,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAA;YACtB,UAAU,CAAC,WAAW,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAE,IAAI,CAAC,CAAC,CAAC,CAAE,IAAI,CAAC,CAAC,CAAA;YAC3E,MAAM,CAAC,IAAI,CAAA;QACb,CAAC;QAED,qDAAqD;QACrD,SAAS,EAAE;YACT,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAA;QAC3B,CAAC;QAED,yDAAyD;QACzD,SAAS,EAAE;YACT,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAA;QAC5B,CAAC;QAED,+EAA+E;QAC/E,WAAW;QACX,oFAAoF;QACpF,0FAA0F;QAC1F,MAAM,EAAE,UAAS,KAAK,EAAE,OAAO;YAC7B,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAA;YACtB,OAAO,GAAG,OAAO,IAAI,EAAE,CAAA;YACvB,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,KAAK,KAAK,CAAC,CAAC,CAAC;gBAC3C,MAAM,CAAA;YACR,CAAC;YACD,EAAE,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC;gBACpB,+BAA+B;gBAC/B,MAAM,CAAC,GAAG,KAAK,GAAG,IAAI,CAAC,KAAK,CAAA;gBAC5B,iDAAiD;gBACjD,MAAM,CAAC,GAAG,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAA;gBAChE,mBAAmB;gBACnB,MAAM,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;gBAC3C,IAAI,CAAC,OAAO,GAAG,CAAC,GAAG,CAAC,CAAA;YACtB,CAAC;YACD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAA;YACnB,IAAI,CAAC,IAAI,GAAG,KAAK,CAAA;YACjB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAA;YACtB,UAAU,CAAC,cAAc,CAAC,IAAI,CAAC,CAAA;YAC/B,MAAM,CAAC,IAAI,CAAA;QACb,CAAC;KACF,CAAC,CAAA;AACJ,CAAC,EAhGS,UAAU,KAAV,UAAU,QAgGnB;ACnGD,sCAAsC;AACtC,IAAU,UAAU,CAmJnB;AAnJD,WAAU,UAAU;IAAC,IAAA,UAAU,CAmJ9B;IAnJoB,WAAA,UAAU;QAO7B,cAAc,MAAM,EAAE,KAAe;YACnC,GAAG,CAAC,CAAC,MAAM,IAAI,IAAI,KAAK,CAAC,CAAC,CAAC;gBACzB,EAAE,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,MAAM,CAAC,CAAC,CAAC;oBACnC,MAAM,CAAC,IAAI,CAAA;gBACb,CAAC;YACH,CAAC;YACD,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAA;QACjB,CAAC;QAED,MAAM,OAAO,GAAG;YACd,iBAAiB,EAAE,IAAI,CAAC,QAAQ,CAAC,eAAe,EAAE;gBAChD,mBAAmB;gBACnB,yBAAyB;gBACtB,sBAAsB;gBACrB,qBAAqB;aAAC,CAAC;YAC7B,cAAc,EAAE,IAAI,CAAC,QAAQ,EAAE;gBAC7B,gBAAgB;gBAChB,sBAAsB;gBACtB,wBAAwB;gBACrB,qBAAqB;gBACpB,kBAAkB;aAAC,CAAC;YAC1B,iBAAiB,EAAE,IAAI,CAAC,QAAQ,EAAE;gBAChC,mBAAmB;gBACnB,yBAAyB;gBACzB,gCAAgC;gBAC7B,sBAAsB;gBACrB,qBAAqB;aAAC,CAAC;YAC7B,iBAAiB,EAAE,IAAI,CAAC,QAAQ,EAAE;gBAChC,mBAAmB;gBACnB,yBAAyB;gBACtB,sBAAsB;gBACrB,qBAAqB;aAAC,CAAC;YAC7B,gBAAgB,EAAE,IAAI,CAAC,QAAQ,EAAE;gBAC/B,oBAAoB;gBACpB,0BAA0B;gBACvB,uBAAuB;gBACtB,sBAAsB;aAAC,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;YACjD,eAAe,EAAE,IAAI,CAAC,QAAQ,EAAE;gBAC9B,mBAAmB;gBACnB,yBAAyB;gBACtB,sBAAsB;gBACrB,qBAAqB;aAAC,CAAC,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;SACjD,CAAA;QAED,MAAM,WAAW,GAAG,OAAO,CAAC,gBAAgB,GAAG,GAAG,GAAG,UAAU,CAAC,SAAS,GAAG,aAAa,CAAA;QACzF;YACE,UAAU,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,CAAA;QAC5C,CAAC;QAED,yBAAyB,QAAQ;YAC/B,iBAAiB,EAAE,CAAA;YACnB,UAAU,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,WAAW,EAAE,QAAQ,CAAC,CAAA;QACpD,CAAC;QAED,MAAM,gBAAgB,GAAG,oBAAoB,GAAG,UAAU,CAAC,SAAS,GAAG,aAAa,CAAA;QACpF;YACE,UAAU,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,gBAAgB,CAAC,CAAA;QAC/C,CAAC;QACD,8BAA8B,QAAQ;YACpC,sBAAsB,EAAE,CAAA;YACxB,UAAU,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,gBAAgB,EAAE,QAAQ,CAAC,CAAA;QACvD,CAAC;QAED,iCAAiC,CAAC;YAChC,CAAC,GAAG,CAAC,IAAI,QAAQ,CAAC,eAAe,CAAA;YACjC,CAAC,CAAC,OAAO,CAAC,iBAAiB,CAAC,EAAE,CAAA;QAChC,CAAC;QAED;YACE,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,cAAc,CAAC,EAAE,CAAA;QAC3C,CAAC;QAFe,yBAAc,iBAE7B,CAAA;QAED;YACE,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAA;QAC5C,CAAC;QAFe,4BAAiB,oBAEhC,CAAA;QAED;YACE,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAA;QAC5C,CAAC;QAFe,4BAAiB,oBAEhC,CAAA;QAED;YACE,MAAM,CAAC,CAAC,CAAC,iBAAiB,EAAE,CAAA;QAC9B,CAAC;QAFe,uBAAY,eAE3B,CAAA;QAED,0BAAiC,IAAyB,EAAE,IAAa;YACvE,EAAE,CAAC,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;gBACnB,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAA;YACjC,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,IAAI,CAAC,cAAc,EAAE,CAAA;YACvB,CAAC;QACH,CAAC;QANe,2BAAgB,mBAM/B,CAAA;QAED,2BAAkC,IAAyB,EAAE,IAAa;YACxE,IAAI,GAAG,IAAI,IAAI,EAAE,CAAA;YACjB,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAA;YACzB,MAAM,OAAO,GAAG,IAAI,CAAC,MAAM,CAAA;YAC3B,MAAM,OAAO,GAAG,IAAI,CAAC,MAAM,CAAA;YAC3B,MAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAA;YAC3B,MAAM,WAAW,GAAG,IAAI,CAAC,UAAU,CAAA;YACnC,MAAM,KAAK,GAAG,GAAG,EAAE;gBACjB,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,KAAK,CAAA;gBAChC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,CAAA;gBAClC,IAAI,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,MAAM,IAAI,OAAO,CAAa,CAAA;gBAClD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,IAAI,KAAK,CAAA;gBACtC,IAAI,CAAC,UAAU,GAAG,KAAK,CAAA;gBACvB,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;YACvB,CAAC,CAAA;YACD,MAAM,IAAI,GAAG,GAAG,EAAE;gBAChB,IAAI,CAAC,KAAK,GAAG,MAAM,CAAA;gBACnB,IAAI,CAAC,MAAM,GAAG,OAAO,CAAA;gBACrB,IAAI,CAAC,MAAM,GAAG,OAAO,CAAA;gBACrB,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAA;gBACrB,IAAI,CAAC,UAAU,GAAG,WAAW,CAAA;gBAC7B,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;YACvB,CAAC,CAAA;YAED,eAAe,CAAC,GAAG,EAAE;gBACnB,EAAE,CAAC,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;oBACnB,KAAK,EAAE,CAAA;oBACP,oBAAoB,CAAC,KAAK,CAAC,CAAA;gBAC7B,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACN,iBAAiB,EAAE,CAAA;oBACnB,sBAAsB,EAAE,CAAA;oBACxB,IAAI,EAAE,CAAA;gBACR,CAAC;YACH,CAAC,CAAC,CAAA;YACF,uBAAuB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAA;QACzC,CAAC;QAnCe,4BAAiB,oBAmChC,CAAA;QAED,UAAU,CAAC,WAAW,CAAC;YACrB,iBAAiB;YACjB,iBAAiB;YACjB,cAAc;YACd,gBAAgB,EAAE,UAAS,IAAa;gBACtC,gBAAgB,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAA;YACnC,CAAC;YACD,iBAAiB,EAAE,UAAS,IAAa;gBACvC,iBAAiB,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAA;YACpC,CAAC;SACF,CAAC,CAAA;IACJ,CAAC,EAnJoB,UAAU,GAAV,qBAAU,KAAV,qBAAU,QAmJ9B;AAAD,CAAC,EAnJS,UAAU,KAAV,UAAU,QAmJnB;ACpJD,CAAC,CAAC,UAAU,EAAE,EAAE;IAEd,MAAM,IAAI,GAAG,OAAO,CAAA;IAEpB,eAAe,CAAC,EAAE,IAAyB;QACzC,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YAC/C,MAAM,CAAA;QACR,CAAC;QACD,UAAU,CAAC,WAAW,CAAC,CAAC,EAAE,IAAI,CAAC,CAAA;QAC/B,MAAM,KAAK,GAAG,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,CAAA;QAE5C,IAAI,IAAI,EAAE,GAAG,CAAA;QACb,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,EAAE,MAAM,GAAG,MAAM,CAAC,MAAM,EAAE,CAAA;QACpD,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,KAAK,YAAY,CAAC,CAAC,CAAC;YACtC,IAAI,GAAG,MAAM,CAAC,UAAU,EAAE,GAAG,CAAC,CAAA;YAC9B,GAAG,GAAG,KAAK,CAAC,QAAQ,GAAG,MAAM,CAAC,IAAI,CAAA;QACpC,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,GAAG,MAAM,CAAC,WAAW,EAAE,GAAG,CAAC,CAAA;YAC/B,GAAG,GAAG,KAAK,CAAC,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAA;QACnC,CAAC;QACD,UAAU,CAAC,WAAW,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;IAClE,CAAC;IAED,UAAU,CAAC,cAAc,CAAC,IAAI,EAAE;QAC9B,IAAI,EAAE,IAAI;QACV,OAAO,EAAE,KAAK;QACd,QAAQ,EAAE,KAAK;KAChB,CAAC,CAAA;AAEJ,CAAC,CAAC,CAAC,UAAU,CAAC,CAAA;AC7Bd,CAAC,CAAC,UAAU,EAAE,EAAE;IAEd,MAAM,IAAI,GAAG,MAAM,CAAA;IAOnB,kBAAkB,IAAyB;QACzC,MAAM,CAAC,UAAU,CAAC,cAAc,CAAC,IAAI,EAAE,IAAI,CAAc,CAAA;IAC3D,CAAC;IAED,iBAAiB,IAAyB;QACxC,EAAE,CAAC,CAAC,OAAO,IAAI,CAAC,WAAW,KAAK,QAAQ,CAAC,CAAC,CAAC;YACzC,MAAM,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,CAAA;QACzC,CAAC;QACD,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,KAAK,YAAY,CAAC,CAAC,CAAC;YACtC,MAAM,CAAC,CAAC,CAAA;QACV,CAAC;QACD,MAAM,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAA;IACpB,CAAC;IAED,mBAAmB,CAAC,EAAE,IAAyB;QAC7C,MAAM,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAA;QAC5B,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,IAAI,UAAU,CAAC,EAAE,CAAC,IAAI,EAAE,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YAClF,MAAM,CAAA;QACR,CAAC;QAED,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,IAAI,CAAC,CAAA;QAC7B,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,IAAI,CAAC,CAAA;QAC3B,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,EAAE,IAAI,CAAC,CAAA;QACvC,UAAU,CAAC,WAAW,CAAC,CAAC,EAAE,IAAI,CAAC,CAAA;IACjC,CAAC;IAED,iBAAiB,CAAC,EAAE,IAAyB;QAC3C,EAAE,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC;YACpC,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,EAAE,KAAK,CAAC,CAAA;YACxC,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,CAAA;QAC7B,CAAC;IACH,CAAC;IAED,cAAc,CAAC,EAAE,IAAyB;QACxC,MAAM,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAA;QAC5B,MAAM,KAAK,GAAG,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,CAAA;QAC5C,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC;YAAC,MAAM,CAAA;QAAC,CAAC;QAChD,UAAU,CAAC,WAAW,CAAC,CAAC,EAAE,IAAI,CAAC,CAAA;QAE/B,MAAM,GAAG,GAAG,OAAO,CAAC,IAAI,CAAC,CAAA;QACzB,MAAM,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAA;QACxB,MAAM,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAA;QACxB,MAAM,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,IAAI,GAAG,EAAE,GAAG,KAAK,CAAC,IAAI,GAAG,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAA;QACjE,MAAM,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,IAAI,GAAG,EAAE,GAAG,KAAK,CAAC,IAAI,GAAG,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAA;QAErF,aAAa;QACb,KAAK,CAAC,KAAK,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,CAAA;QAC9B,KAAK,CAAC,IAAI,IAAI,IAAI,CAAC,KAAK,GAAG,CAAC,CAAA;QAE5B,oBAAoB;QACpB,MAAM,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAA;QAC3B,MAAM,OAAO,GAAG,IAAI,CAAC,IAAI,CAAA;QACzB,UAAU,CAAC,WAAW,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAA;QAC7E,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,CAAA;QAE9B,EAAE,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,KAAK,IAAI,CAAC,KAAK,IAAI,OAAO,KAAK,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YAClF,uBAAuB;YACvB,CAAC,CAAC,cAAc,EAAE,CAAA;YAClB,mEAAmE;YACnE,EAAE,CAAC,CAAC,IAAI,CAAC,eAAe,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;gBACvG,OAAO,CAAC,CAAC,EAAE,IAAI,CAAC,CAAA;YAClB,CAAC;QACH,CAAC;IACH,CAAC;IAED,mBAAmB,CAAC,EAAE,IAAI;QACxB,SAAS,CAAC,CAAC,EAAE,IAAI,CAAC,CAAA;QAClB,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAA;IACf,CAAC;IAED,UAAU,CAAC,cAAc,CAAC,MAAM,EAAE;QAChC,IAAI,EAAE,MAAM;QAEZ,SAAS,EAAE,SAAS;QACpB,SAAS,EAAE,IAAI;QACf,OAAO,EAAE,OAAO;QAEhB,iBAAiB,EAAE,IAAI;QACvB,eAAe,EAAE,OAAO;QAExB,UAAU,EAAE,SAAS;QACrB,SAAS,EAAE,IAAI;QACf,QAAQ,EAAE,OAAO;QACjB,WAAW,EAAE,OAAO;KACrB,CAAC,CAAA;IAEF,UAAU,CAAC,cAAc,CAAC,MAAM,EAAE;QAChC,IAAI,EAAE,MAAM;QAEZ,SAAS,EAAE,SAAS;QACpB,UAAU,EAAE,OAAO;QAEnB,UAAU,EAAE,SAAS;QACrB,SAAS,EAAE,IAAI;QACf,QAAQ,EAAE,OAAO;QACjB,WAAW,EAAE,OAAO;KACrB,CAAC,CAAA;AACJ,CAAC,CAAC,CAAC,UAAU,CAAC,CAAA;AC1Gd,CAAC,CAAC,UAAU,EAAE,EAAE;IAEd,MAAM,IAAI,GAAG,MAAM,CAAA;IAQnB,kBAAkB,IAAyB;QACzC,MAAM,CAAC,UAAU,CAAC,cAAc,CAAC,IAAI,EAAE,IAAI,CAAc,CAAA;IAC3D,CAAC;IAED,yBAAyB,IAAyB;QAChD,MAAM,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAA;QAC5B,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAA;QAChC,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAA;QAC5B,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAA;IAC9B,CAAC;IAED,wBAAwB,IAAyB;QAC/C,MAAM,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAA;QAC5B,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC,SAAS,CAAA;QAChC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC,OAAO,CAAA;QAC5B,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC,OAAO,CAAA;IAC9B,CAAC;IAED,eAAe,CAAC,EAAE,IAAyB;QACzC,EAAE,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,UAAU,CAAC,EAAE,CAAC,IAAI,EAAE,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YACpG,MAAM,CAAA;QACR,CAAC;QACD,eAAe,CAAC,IAAI,CAAC,CAAA;QACrB,UAAU,CAAC,WAAW,CAAC,CAAC,EAAE,IAAI,CAAC,CAAA;QAC/B,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,EAAE,IAAI,CAAC,CAAA;QACvC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAA;QACnB,UAAU,CAAC,cAAc,CAAC,IAAI,CAAC,CAAA;IACjC,CAAC;IAED,cAAc,CAAC,EAAE,IAAyB;QACxC,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,EAAE,KAAK,CAAC,CAAA;QACxC,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,CAAA;QAC3B,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,CAAA;QAC9B,cAAc,CAAC,IAAI,CAAC,CAAA;QACpB,UAAU,CAAC,cAAc,CAAC,IAAI,CAAC,CAAA;IACjC,CAAC;IAED,gBAAgB,CAAC,EAAE,IAAyB;QAC1C,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC;YACrC,MAAM,CAAA;QACR,CAAC;QACD,UAAU,CAAC,WAAW,CAAC,CAAC,EAAE,IAAI,CAAC,CAAA;QAC/B,MAAM,KAAK,GAAG,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,CAAA;QAE5C,IAAI,IAAI,EAAE,KAAK,CAAA;QACf,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,EAAE,MAAM,GAAG,MAAM,CAAC,MAAM,EAAE,CAAA;QACpD,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,KAAK,YAAY,CAAC,CAAC,CAAC;YACtC,IAAI,GAAG,MAAM,CAAC,UAAU,EAAE,GAAG,CAAC,CAAA;YAC9B,KAAK,GAAG,CAAC,KAAK,CAAC,QAAQ,GAAG,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,IAAI,CAAA;QACtD,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,GAAG,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAA;YACxB,KAAK,GAAG,CAAC,KAAK,CAAC,QAAQ,GAAG,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,CAAA;QACrD,CAAC;QACD,IAAI,CAAC,OAAO,GAAG,KAAK,GAAG,CAAC,CAAA;QACxB,KAAK,GAAG,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAA;QAClC,IAAI,CAAC,SAAS,GAAG,EAAE,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,GAAG,EAAE,CAAA;QAEtC,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,KAAK,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,GAAG,KAAK,CAAC,EAAE,CAAC,CAAC;YAChE,CAAC,CAAC,IAAI,CAAC,WAAW,KAAK,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,GAAG,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;YAC/D,CAAC,CAAC,cAAc,EAAE,CAAA;QACpB,CAAC;IACH,CAAC;IAED,iBAAiB,CAAC,EAAE,IAAyB;QAC3C,IAAI,CAAC,OAAO,GAAG,IAAI,CAAA;QACnB,UAAU,CAAC,cAAc,CAAC,IAAI,CAAC,CAAA;IACjC,CAAC;IAED,UAAU,CAAC,cAAc,CAAC,IAAI,EAAE;QAC9B,IAAI,EAAE,IAAI;QAEV,SAAS,EAAE,KAAK;QAChB,SAAS,EAAE,MAAM;QACjB,OAAO,EAAE,IAAI;QACb,UAAU,EAAE,IAAI;QAEhB,UAAU,EAAE,KAAK;QACjB,SAAS,EAAE,MAAM;QACjB,QAAQ,EAAE,IAAI;QACd,WAAW,EAAE,IAAI;QAEjB,OAAO,EAAE,OAAO;KACjB,CAAC,CAAA;AAEJ,CAAC,CAAC,CAAC,UAAU,CAAC,CAAA;AC9Fd,CAAC,CAAC,UAAU,EAAE,EAAE;IAEd,MAAM,IAAI,GAAG,OAAO,CAAA;IAOpB,kBAAkB,IAAI;QACpB,MAAM,CAAC,UAAU,CAAC,cAAc,CAAC,IAAI,EAAE,IAAI,CAAe,CAAA;IAC5D,CAAC;IACD,mBAAmB,IAAI,EAAE,IAAI,EAAE,QAAQ;QACrC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,QAAQ,CAAA;IAC/B,CAAC;IAED,cAAc,CAAC,EAAE,IAAI;QACnB,MAAM,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAA;QAC5B,KAAK,CAAC,KAAK,GAAG,SAAS,CAAC,IAAI,EAAE,YAAY,EAAE,EAAE,CAAC,CAAA;QAC/C,KAAK,CAAC,IAAI,GAAG,SAAS,CAAC,IAAI,EAAE,WAAW,EAAE,IAAI,CAAC,CAAA;IACjD,CAAC;IAED,eAAe,CAAC,EAAE,IAAyB;QACzC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC;YACtD,UAAU,CAAC,WAAW,CAAC,CAAC,EAAE,IAAI,CAAC,CAAA;YAC/B,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,EAAE,IAAI,CAAC,CAAA;QACzC,CAAC;IACH,CAAC;IAED,gBAAgB,CAAC,EAAE,IAAyB;QAC1C,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC;YACrC,MAAM,CAAA;QACR,CAAC;QACD,UAAU,CAAC,WAAW,CAAC,CAAC,EAAE,IAAI,CAAC,CAAA;QAC/B,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAA;QACxB,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAA;QACtB,UAAU,CAAC,WAAW,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,CAAA;IAC3C,CAAC;IAED,aAAa,CAAC,EAAE,IAAyB;QACvC,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC;YACrC,MAAM,CAAA;QACR,CAAC;QACD,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,EAAE,KAAK,CAAC,CAAA;QAExC,MAAM,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAA;QAC5B,MAAM,KAAK,GAAG,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,CAAA;QAE5C,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAA;QACtB,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAA;QACtB,MAAM,IAAI,GAAG,KAAK,CAAC,IAAI,CAAA;QACvB,MAAM,KAAK,GAAG,KAAK,CAAC,KAAK,CAAA;QACzB,IAAI,EAAE,EAAE,EAAE,CAAA;QACV,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,KAAK,YAAY,CAAC,CAAC,CAAC;YACtC,EAAE,GAAG,KAAK,CAAC,GAAG,CAAA;YACd,EAAE,GAAG,KAAK,CAAC,GAAG,CAAA;QAChB,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,EAAE,GAAG,KAAK,CAAC,GAAG,CAAA;YACd,EAAE,GAAG,KAAK,CAAC,GAAG,CAAA;QAChB,CAAC;QAED,EAAE,CAAC,CAAC,EAAE,IAAI,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,CAAC,CAAC;YAC9B,KAAK,GAAG,IAAI,CAAC,KAAK,GAAG,CAAC,CAAA;QACxB,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;YACvC,KAAK,GAAG,IAAI,CAAC,KAAK,GAAG,CAAC,CAAA;QACxB,CAAC;QAED,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,CAAA;QAC3B,UAAU,CAAC,WAAW,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,CAAA;QACzC,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,CAAA;IAChC,CAAC;IAED,UAAU,CAAC,cAAc,CAAC,IAAI,EAAE;QAC9B,IAAI,EAAE,IAAI;QACV,MAAM,EAAE,IAAI;QACZ,SAAS,EAAE,KAAK;QAChB,SAAS,EAAE,MAAM;QACjB,OAAO,EAAE,GAAG;QACZ,UAAU,EAAE,GAAG;QAEf,UAAU,EAAE,KAAK;QACjB,SAAS,EAAE,MAAM;QACjB,QAAQ,EAAE,GAAG;QACb,WAAW,EAAE,GAAG;KACjB,CAAC,CAAA;AAEJ,CAAC,CAAC,CAAC,UAAU,CAAC,CAAA;ACtFd,CAAC,CAAC,UAAU,EAAE,EAAE;IAEd,MAAM,CAAC,GAAG,UAAU,CAAC,CAAC,CAAA;IAEtB,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAA;IAExB,MAAM,IAAI,GAAG,KAAK,CAAA;IAElB,gBAAgB,CAAC,EAAE,IAAyB;QAC1C,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,MAAM,EAAE,CAAA;QAC9C,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,KAAK,OAAO,CAAC,CAAC,CAAC;YAC9B,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,mBAAmB,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA;QACnE,CAAC;IACH,CAAC;IAED,gBAAgB,CAAC,EAAE,IAAyB;QAC1C,MAAM,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,CAAA;QAC1F,MAAM,KAAK,GAAG,KAAK,CAAC,KAAK,CAAA;QACzB,MAAM,MAAM,GAAG,KAAK,CAAC,MAAM,CAAA;QAE3B,EAAE,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YAAC,MAAM,CAAA;QAAC,CAAC;QACjC,MAAM,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC,CAAA;QACjC,MAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC,CAAA;QAEnC,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,KAAK,QAAQ,CAAC,CAAC,CAAC;YAC/B,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAA;YAClB,MAAM,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAA;YACjD,MAAM,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAA;YAClD,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAA;YAClC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,KAAK,EAAE,MAAM,CAAC,QAAQ,EAAE,MAAM,CAAC,QAAQ,EAAE,MAAM,CAAC,YAAY,EAAE,MAAM,CAAC,aAAa,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAA;YACtH,MAAM,CAAA;QACR,CAAC;QAED,MAAM,MAAM,GAAG,MAAM,CAAC,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,CAAA;QAC5D,MAAM,MAAM,GAAG,MAAM,CAAC,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,CAAA;QAC9D,MAAM,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,QAAQ,GAAG,MAAM,CAAC,CAAA;QACjD,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,QAAQ,GAAG,MAAM,CAAC,CAAA;QAClD,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,YAAY,GAAG,MAAM,CAAC,CAAA;QACrD,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,aAAa,GAAG,MAAM,CAAC,CAAA;QACvD,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,KAAK,YAAY,CAAC,CAAC,CAAC;YACnC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC;gBACb,kBAAkB,EAAM,QAAQ,GAAG,IAAI;gBACvC,qBAAqB,EAAG,GAAG,IAAI,MAAM,GAAG,IAAI;gBAC5C,mBAAmB,EAAK,WAAW;gBACnC,4DAA4D;gBAC5D,yBAAyB,EAAG,GAAG,KAAK,MAAM,MAAM,IAAI;gBACpD,sBAAsB,EAAM,GAAG,KAAK,MAAM,MAAM,IAAI;gBACpD,oBAAoB,EAAQ,GAAG,KAAK,MAAM,MAAM,IAAI;gBACpD,iBAAiB,EAAW,GAAG,KAAK,MAAM,MAAM,IAAI,CAAE,iDAAiD;aACxG,CAAC,CAAA;YACF,MAAM,CAAA;QACR,CAAC;QAED,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,CAAA;QACrB,CAAC,CAAC,KAAK,CAAC,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC;YAClB,QAAQ,EAAE,UAAU;YACpB,GAAG,EAAE,GAAG;YACR,IAAI,EAAE,IAAI;YACV,WAAW,EAAG,SAAS;YACvB,KAAK,EAAE,KAAK;YACZ,MAAM,EAAE,MAAM;SACf,CAAC,CAAA;IACJ,CAAC;IAED,UAAU,CAAC,cAAc,CAAC,IAAI,EAAE;QAC9B,IAAI,EAAE,IAAI;QACV,MAAM;QACN,MAAM;KACP,CAAC,CAAA;AAEJ,CAAC,CAAC,CAAC,UAAU,CAAC,CAAA;ACtEd,CAAC,CAAC,UAAU,EAAE,EAAE;IAEd,MAAM,IAAI,GAAG,MAAM,CAAA;IAsBnB,kBAAkB,IAAI;QACpB,MAAM,CAAC,UAAU,CAAC,cAAc,CAAC,IAAI,EAAE,IAAI,CAAc,CAAA;IAC3D,CAAC;IACD,mBAAmB,IAAI,EAAE,IAAI,EAAE,QAAQ;QACrC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,QAAQ,CAAA;IAC/B,CAAC;IAED,cAAc,CAAC,EAAE,IAAyB;QACxC,MAAM,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAA;QAE5B,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC,MAAM,IAAI,UAAU,CAAC,CAAC,CAAC,sCAAsC,CAAC,CAAA;QACnF,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC,OAAO,IAAI,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,CAAA;QACjE,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,IAAI,EAAE,CAAA;QAC/B,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,IAAI,EAAE,cAAc,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,CAAA;QAClE,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,IAAI,EAAE,eAAe,EAAE,IAAI,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC,CAAA;QAChF,KAAK,CAAC,SAAS,GAAG,IAAI,CAAA;QACtB,KAAK,CAAC,OAAO,GAAG,CAAC,CAAC,SAAS,CAAC,IAAI,EAAE,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,CAAA;QAE5D,MAAM,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,CAAA;QACjD,MAAM,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,CAAA;QAC5G,MAAM,GAAG,GAAG,UAAU,CAAC,KAAK,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,EAAE,KAAK,EAAE,KAAK,CAAC,CAAA;QAExE,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAA;QACrD,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAA;QACvD,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,CAAA;QAC5B,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,CAAA;QACvD,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,CAAA;IAClC,CAAC;IAED,iBAAiB,CAAC,EAAE,IAAI;QACtB,MAAM,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAA;QAC5B,UAAU,CAAC,IAAI,CAAC,CAAA;QAChB,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,IAAI,IAAI,CAAC,CAAC,CAAC;YAC1B,IAAI,CAAC,IAAI,CAAC,CAAA;QACZ,CAAC;IACH,CAAC;IAED,oBAAoB,IAAyB;QAC3C,MAAM,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAA;QAC5B,MAAM,GAAG,GAAG,UAAU,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAA;QAE9C,0BAA0B;QAC1B,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,SAAS,CAAC,CAAA;QAC5C,oBAAoB;QACpB,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;QAE9C,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC;YAClB,KAAK,EAAE,IAAI,CAAC,KAAK;YACjB,IAAI,EAAE,IAAI,CAAC,IAAI;YACf,IAAI,EAAE,CAAC;YACP,IAAI,EAAE,KAAK,CAAC,SAAS,GAAG,KAAK,CAAC,QAAQ;YACtC,CAAC,EAAE,CAAC;YACJ,KAAK,EAAE,CAAC;SACT,CAAC,CAAA;IACJ,CAAC;IAED,MAAM,QAAQ,GAAG,EAAE,CAAA;IACnB,yBAAyB,MAAM;QAC7B,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAA;QACnB,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC;YAC1C,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC;gBACzB,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAA;YAClB,CAAC;QACH,CAAC;QACD,GAAG,CAAC,CAAC,MAAM,IAAI,IAAI,QAAQ,CAAC,CAAC,CAAC;YAC5B,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC,CAAA;QACxB,CAAC;IACH,CAAC;IAED,cAAc,IAAyB;QACrC,MAAM,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAA;QAC5B,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC,UAAU,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,CAAA,CAAC,CAAC,EAAE,KAAK,CAAC,SAAS,CAAC,CAAA;IAC1E,CAAC;IAED,kBAAkB,IAAyB;QACzC,MAAM,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAA;QAC5B,MAAM,CAAC,YAAY,CAAC,KAAK,CAAC,OAAO,CAAC,CAAA;QAClC,KAAK,CAAC,OAAO,GAAG,IAAI,CAAA;IACtB,CAAC;IAED,sBAAsB,MAAM,EAAE,CAAC;QAC7B,MAAM,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC,CAAA;QACtD,MAAM,IAAI,GAAG,QAAQ,MAAM,KAAK,CAAA;QAChC,MAAM,CAAC,GAAG,CAAC;YACT,gBAAgB,EAAE,IAAI;YACtB,MAAM,EAAE,IAAI;SACb,CAAC,CAAA;IACJ,CAAC;IAED,mBAAmB,IAAyB,EAAE,KAAgB,EAAE,IAAc;QAC5E,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC;YAAC,MAAM,CAAA;QAAC,CAAC;QAE/B,MAAM,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,CAAA;QAC1F,MAAM,KAAK,GAAG,KAAK,CAAC,KAAK,CAAA;QACzB,MAAM,MAAM,GAAG,KAAK,CAAC,MAAM,CAAA;QAC3B,EAAE,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YAAC,MAAM,CAAA;QAAC,CAAC;QAEjC,MAAM,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC,CAAA;QACjC,MAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC,CAAA;QACnC,EAAE,CAAC,CAAC,KAAK,CAAC,QAAQ,KAAK,KAAK,CAAC,CAAC,CAAC;YAAC,MAAM,CAAA;QAAC,CAAC;QAExC,KAAK,CAAC,MAAM,CAAC,IAAI,EAAE,CAAA;QACnB,MAAM,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAA;QAClD,MAAM,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,WAAW,CAAA;QACnD,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAA;QACnC,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,KAAK,EAAE,MAAM,CAAC,QAAQ,EAAE,MAAM,CAAC,QAAQ,EAAE,MAAM,CAAC,YAAY,EAAE,MAAM,CAAC,aAAa,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAA;IACzH,CAAC;IAED,cAAc,IAAyB;QACrC,MAAM,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAA;QAC5B,QAAQ,CAAC,IAAI,CAAC,CAAA;QACd,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;YACnB,MAAM,CAAA;QACR,CAAC;QAED,IAAI,CAAC,GAAG,CAAC,CAAA;QACT,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAA;QACtD,GAAG,CAAC,CAAC,MAAM,IAAI,IAAI,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;YAC/B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,CAAA;YAC9C,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,GAAG,IAAI,EAAE,CAAC,CAAC,CAAA;YAC1C,SAAS,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,CAAA;YAC5B,CAAC,IAAI,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,CAAC,CAAA;QAC1B,CAAC;QACD,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;YAClB,YAAY,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC,CAAA;QAC/B,CAAC;QACD,eAAe,CAAC,KAAK,CAAC,KAAK,CAAC,CAAA;QAC5B,EAAE,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;YACvB,IAAI,CAAC,IAAI,CAAC,CAAA;QACZ,CAAC;IACH,CAAC;IAED,UAAU,CAAC,cAAc,CAAC,IAAI,EAAE;QAC9B,IAAI,EAAE,IAAI;QAEV,MAAM,EAAE,IAAI;QACZ,cAAc,EAAE,OAAO;KACxB,CAAC,CAAA;AAEJ,CAAC,CAAC,CAAC,UAAU,CAAC,CAAA;ACnKd,CAAC,CAAC,UAAU,EAAE,EAAE;IAEd,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,CAAA;IACpB,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,CAAA;IAEpB,MAAM,IAAI,GAAG,MAAM,CAAA;IA0BnB,kBAAkB,IAAI;QACpB,MAAM,CAAC,UAAU,CAAC,cAAc,CAAC,IAAI,EAAE,IAAI,CAAc,CAAA;IAC3D,CAAC;IAED,mBAAmB,IAAI,EAAE,IAAI,EAAE,QAAQ;QACrC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,QAAQ,CAAA;IAC/B,CAAC;IAED,cAAc,CAAC,EAAE,IAAyB;QACxC,MAAM,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAA;QAC5B,KAAK,CAAC,UAAU,GAAG,GAAG,CAAC,SAAS,CAAC,IAAI,EAAE,gBAAgB,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA;QAC/D,KAAK,CAAC,OAAO,GAAG,GAAG,CAAC,GAAG,CAAC,SAAS,CAAC,IAAI,EAAE,aAAa,EAAE,GAAG,CAAC,EAAE,KAAK,CAAC,EAAE,CAAC,CAAC,CAAA;QACvE,KAAK,CAAC,SAAS,GAAG,GAAG,CAAC,SAAS,CAAC,IAAI,EAAE,eAAe,EAAE,GAAG,CAAC,EAAE,EAAE,CAAC,CAAA;QAChE,KAAK,CAAC,UAAU,GAAG,GAAG,CAAC,SAAS,CAAC,IAAI,EAAE,gBAAgB,EAAE,IAAI,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC,CAAA;QAC7E,KAAK,CAAC,OAAO,GAAG,EAAE,CAAA;QAClB,KAAK,CAAC,KAAK,GAAG,EAAE,CAAA;IAClB,CAAC;IAED,gBAAgB,CAAC,EAAE,IAAyB;QAC1C,EAAE,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC;YACpC,QAAQ,CAAC,IAAI,CAAC,CAAA;YACd,WAAW,CAAC,IAAI,CAAC,CAAA;QACnB,CAAC;IACH,CAAC;IAED,aAAa,CAAC,EAAE,IAAyB;QACvC,MAAM,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAA;QAC5B,MAAM,OAAO,GAAG,KAAK,CAAC,OAAO,CAAA;QAE7B,IAAI,IAAI,CAAA;QACR,IAAI,KAAK,GAAG,CAAC,CAAA;QACb,IAAI,MAAM,GAAG,CAAC,CAAA;QACd,IAAI,IAAI,GAAG,CAAC,CAAA;QACZ,GAAG,CAAC,CAAC,MAAM,MAAM,IAAI,OAAO,CAAC,CAAC,CAAC;YAC7B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;gBACV,IAAI,GAAG,MAAM,CAAA;gBACb,QAAQ,CAAA;YACV,CAAC;YAED,MAAM,EAAE,GAAG,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAA;YAClC,EAAE,CAAC,CAAC,EAAE,GAAG,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC;gBACzB,KAAK,GAAG,MAAM,GAAG,IAAI,GAAG,CAAC,CAAA;gBACzB,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAA;YACvB,CAAC;YAED,MAAM,IAAI,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAA;YACnC,KAAK,IAAI,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAA;YAChC,IAAI,IAAI,EAAE,CAAA;YACV,IAAI,GAAG,MAAM,CAAA;QACf,CAAC;QACD,OAAO,CAAC,MAAM,GAAG,CAAC,CAAA;QAClB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;YACV,MAAM,CAAA;QACR,CAAC;QAED,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAA;QACtB,KAAK,CAAC,KAAK,GAAG,CAAC,CAAA;QACf,KAAK,CAAC,QAAQ,GAAG,KAAK,GAAG,IAAI,GAAG,KAAK,CAAC,UAAU,CAAA;QAEhD,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAA;QACxB,KAAK,CAAC,MAAM,GAAG,CAAC,CAAA;QAChB,KAAK,CAAC,SAAS,GAAG,MAAM,GAAG,IAAI,GAAG,KAAK,CAAC,UAAU,CAAA;QAElD,IAAI,CAAC,IAAI,CAAC,CAAA;IACZ,CAAC;IAED,qBAAqB,IAAyB;QAC5C,MAAM,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAA;QAC5B,mBAAmB;QACnB,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC;YACjB,IAAI,EAAE,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE;YAC1B,KAAK,EAAE,IAAI,CAAC,KAAK;YACjB,IAAI,EAAE,IAAI,CAAC,IAAI;SAChB,CAAC,CAAA;QACF,mBAAmB;QACnB,OAAO,KAAK,CAAC,OAAO,CAAC,MAAM,GAAG,KAAK,CAAC,UAAU,EAAE,CAAC;YAC/C,KAAK,CAAC,OAAO,CAAC,KAAK,EAAE,CAAA;QACvB,CAAC;IACH,CAAC;IAED,kBAAkB,IAAyB;QACzC,MAAM,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAA;QAC5B,EAAE,CAAC,CAAC,KAAK,CAAC,OAAO,IAAI,IAAI,CAAC,CAAC,CAAC;YAC1B,MAAM,CAAC,YAAY,CAAC,KAAK,CAAC,OAAO,CAAC,CAAA;YAClC,KAAK,CAAC,OAAO,GAAG,IAAI,CAAA;QACtB,CAAC;IACH,CAAC;IAED,cAAc,IAAyB;QACrC,MAAM,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAA;QAC5B,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC,UAAU,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,CAAA,CAAC,CAAC,EAAE,KAAK,CAAC,UAAU,CAAC,CAAA;IAC3E,CAAC;IAED,cAAc,IAAyB;QACrC,MAAM,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAA;QAC5B,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,QAAQ,CAAA;QAC7B,KAAK,CAAC,MAAM,IAAI,KAAK,CAAC,SAAS,CAAA;QAC/B,KAAK,CAAC,QAAQ,IAAI,KAAK,CAAC,OAAO,CAAA;QAC/B,KAAK,CAAC,SAAS,IAAI,KAAK,CAAC,OAAO,CAAA;QAChC,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,CAAA;QACpD,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,KAAK,CAAC,CAAA;QAEjD,UAAU,CAAC,WAAW,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,CAAA;QAEzC,EAAE,CAAC,CAAC,UAAU,CAAC,EAAE,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC;YACpC,QAAQ,CAAC,IAAI,CAAC,CAAA;QAChB,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,SAAS,CAAC,GAAG,KAAK,IAAI,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;YACjF,IAAI,CAAC,IAAI,CAAC,CAAA;QACZ,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,QAAQ,CAAC,IAAI,CAAC,CAAA;QAChB,CAAC;IACH,CAAC;IAED,UAAU,CAAC,cAAc,CAAC,IAAI,EAAE;QAC9B,IAAI,EAAE,IAAI;QAEV,MAAM,EAAE,IAAI;QAEZ,SAAS,EAAE,MAAM;QACjB,OAAO,EAAE,GAAG;QACZ,UAAU,EAAE,GAAG;QAEf,SAAS,EAAE,MAAM;QACjB,QAAQ,EAAE,GAAG;QACb,WAAW,EAAE,GAAG;KACjB,CAAC,CAAA;AAEJ,CAAC,CAAC,CAAC,UAAU,CAAC,CAAA;AC9Jd,CAAC,CAAC,UAAU,EAAE,EAAE;IAEd,MAAM,IAAI,GAAG,SAAS,CAAA;IAatB,kBAAkB,IAAI;QACpB,MAAM,CAAC,UAAU,CAAC,cAAc,CAAC,IAAI,EAAE,IAAI,CAAiB,CAAA;IAC9D,CAAC;IAED,mBAAmB,IAAI,EAAE,IAAI,EAAE,QAAQ;QACrC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,QAAQ,CAAA;IAC/B,CAAC;IAED,cAAc,CAAC,EAAE,IAAyB;QACxC,MAAM,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAA;QAE5B,KAAK,CAAC,MAAM,GAAG,EAAE,CAAA;QACjB,KAAK,CAAC,OAAO,GAAG,EAAE,CAAA;QAClB,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAA;QACxB,KAAK,CAAC,KAAK,GAAG,SAAS,CAAC,IAAI,EAAE,cAAc,EAAE,GAAG,CAAC,CAAA;QAClD,KAAK,CAAC,OAAO,GAAG,SAAS,CAAC,IAAI,EAAE,gBAAgB,EAAE,IAAI,CAAC,CAAA;QACvD,KAAK,CAAC,KAAK,GAAG,SAAS,CAAC,IAAI,EAAE,cAAc,EAAE,UAAU,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAA;QAE1E,KAAK,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,QAAQ,CAAC,eAAe,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA;QAEnE,IAAI,IAAI,GAAG,CAAC,CAAA;QACZ,GAAG,CAAC,CAAC,MAAM,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YAChC,MAAM,WAAW,GAAG,UAAU,CAAC,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAA;YACvD,MAAM,KAAK,GAAG,IAAI,CAAC,MAAM,GAAG,WAAW,CAAC,MAAM,CAAA;YAE9C,MAAM,GAAG,GAAG,CAAC,CAAC,KAAK,CAAC,CAAA;YACpB,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,CAAA;YACvB,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA;YACtB,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,IAAI,GAAG,CAAC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAA;YAClE,IAAI,IAAI,IAAI,CAAC,KAAK,CAAA;YAClB,GAAG,CAAC,GAAG,CAAC;gBACN,WAAW,EAAG,SAAS;gBACvB,OAAO,EAAG,KAAK,CAAC,OAAO;gBACvB,KAAK,EAAE,IAAI,CAAC,KAAK;gBACjB,MAAM,EAAE,IAAI,CAAC,MAAM;aACpB,CAAC,CAAA;QACJ,CAAC;QACD,MAAM,SAAS,GAAG,UAAU,CAAC,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,CAAA;QACrD,MAAM,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,CAAA;QAChH,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,EAAE,SAAS,EAAE,SAAS,CAAC,CAAA;QACnF,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE,CAAC,CAAA;QAC9E,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,EAAE,OAAO,EAAG,CAAC,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK,CAAC,KAAK,EAAE,CAAC,CAAA;IAC/E,CAAC;IAED,cAAc,CAAC,EAAE,IAAyB;QACxC,MAAM,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAA;QAC5B,MAAM,KAAK,GAAG,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,CAAA;QAC5C,MAAM,UAAU,GAAG,UAAU,CAAC,EAAE,CAAC,IAAI,EAAE,UAAU,CAAC,CAAA;QAClD,EAAE,CAAC,CAAC,KAAK,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;YAC9C,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC,OAAO,CAAC,EAAE,IAAI,EAAG,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK,CAAC,KAAK,EAAE,CAAC,CAAA;YAEtG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,EAAE,OAAO,EAAG,KAAK,CAAC,OAAO,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK,CAAC,KAAK,EAAE,CAAC,CAAA;YACzF,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAA;YACxB,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,EAAE,OAAO,EAAG,CAAC,EAAE,EAAE,EAAE,QAAQ,EAAE,KAAK,CAAC,KAAK,EAAE,CAAC,CAAA;YAC7E,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,EAAE,IAAI,EAAG,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE,CAAC,CAAA;QAC5D,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,UAAU,IAAI,KAAK,CAAC,EAAE,KAAK,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC;YAC/C,KAAK,CAAC,EAAE,GAAG,KAAK,CAAC,EAAE,CAAA;YACnB,KAAK,CAAC,GAAG,GAAG,KAAK,CAAC,GAAG,CAAA;YACrB,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE,IAAI,EAAG,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC,EAAE,EAAE,CAAC,CAAA;QACpF,CAAC;IACH,CAAC;IAED,UAAU,CAAC,cAAc,CAAC,IAAI,EAAE;QAC9B,IAAI,EAAE,IAAI;QACV,MAAM,EAAE,IAAI;QACZ,MAAM,EAAE,IAAI;KACb,CAAC,CAAA;AACJ,CAAC,CAAC,CAAC,UAAU,CAAC,CAAA;AClFd,CAAC,CAAC,UAAU,EAAE,EAAE;IAEd,MAAM,IAAI,GAAG,UAAU,CAAA;IAMvB,kBAAkB,IAAI;QACpB,MAAM,CAAC,UAAU,CAAC,cAAc,CAAC,IAAI,EAAE,IAAI,CAAkB,CAAA;IAC/D,CAAC;IAED,gBAAgB,CAAC,EAAE,IAAyB;QAC1C,MAAM,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAA;QAC5B,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAA;QAC9B,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;YACZ,MAAM,CAAA;QACR,CAAC;QAED,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,KAAK,YAAY,CAAC,CAAC,CAAC;YACtC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,GAAG,MAAM,CAAC,aAAa,CAAA;YAC9D,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,YAAY,CAAA;QACnC,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,GAAG,MAAM,CAAC,YAAY,CAAA;YAC5D,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,aAAa,CAAA;QACpC,CAAC;QACD,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,YAAY,GAAG,KAAK,CAAC,KAAK,CAAC,CAAA;QAC3D,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,aAAa,GAAG,KAAK,CAAC,KAAK,CAAC,CAAA;QAC7D,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC;YACb,kBAAkB,EAAU,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG;YAC5D,mBAAmB,EAAS,aAAa;YACzC,4DAA4D;YAC5D,yBAAyB,EAAG,GAAG,KAAK,MAAM,MAAM,IAAI;YACpD,sBAAsB,EAAM,GAAG,KAAK,MAAM,MAAM,IAAI;YACpD,oBAAoB,EAAQ,GAAG,KAAK,MAAM,MAAM,IAAI;YACpD,iBAAiB,EAAW,GAAG,KAAK,MAAM,MAAM,IAAI,CAAE,iDAAiD;SACxG,CAAC,CAAA;IACJ,CAAC;IAED,gBAAgB,CAAC,EAAE,IAAyB;QAC1C,MAAM,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAA;QAC5B,MAAM,EAAE,GAAG,IAAI,CAAC,WAAW,KAAK,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;QACpD,MAAM,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAA;QAErB,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAA;QACvC,MAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,GAAG,MAAM,GAAG,KAAK,CAAC,KAAK,CAAC,CAAA;QAClD,MAAM,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,EAAE,GAAG,MAAM,GAAG,KAAK,CAAC,KAAK,CAAC,CAAA;QACjD,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,qBAAqB,EAAG,GAAG,IAAI,MAAM,GAAG,IAAI,EAAE,CAAC,CAAA;IAClE,CAAC;IAED,UAAU,CAAC,cAAc,CAAC,IAAI,EAAE;QAC9B,IAAI,EAAE,IAAI;QACV,MAAM,EAAE,MAAM;QACd,MAAM,EAAE,MAAM;KACf,CAAC,CAAA;AAEJ,CAAC,CAAC,CAAC,UAAU,CAAC,CAAA;ACxDd,CAAC,CAAC,UAAU,EAAE,EAAE;IAEd,MAAM,IAAI,GAAG,MAAM,CAAA;IAenB,kBAAkB,IAAI;QACpB,MAAM,CAAC,UAAU,CAAC,cAAc,CAAC,IAAI,EAAE,IAAI,CAAc,CAAA;IAC3D,CAAC;IACD,mBAAmB,IAAI,EAAE,IAAI,EAAE,QAAQ;QACrC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,QAAQ,CAAA;IAC/B,CAAC;IAED,gBAAgB,CAAC,EAAE,IAAyB;QAC1C,MAAM,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAA;QAC5B,KAAK,CAAC,MAAM,GAAG,SAAS,CAAC,IAAI,EAAE,YAAY,EAAE,IAAI,CAAC,MAAM,CAAC,CAAA;QACzD,KAAK,CAAC,eAAe,GAAG,SAAS,CAAC,IAAI,EAAE,qBAAqB,EAAE,GAAG,CAAC,CAAA;QACnE,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,IAAI,UAAU,CAAC,CAAC,CAAC,gCAAgC,CAAC,CAAA;QAC3E,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC;YACd,KAAK,EAAM,MAAM;YACjB,MAAM,EAAK,MAAM;YACjB,GAAG,EAAQ,CAAC;YACZ,IAAI,EAAO,CAAC;YACZ,MAAM,EAAK,CAAC;YACZ,KAAK,EAAM,CAAC;YACZ,QAAQ,EAAG,UAAU;SACtB,CAAC;aACD,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC;aACrB,IAAI,EAAE,CAAA;IACT,CAAC;IAED,mBAAmB,CAAC,EAAE,IAAyB;QAC7C,MAAM,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAA;QAC5B,EAAE,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;YAChB,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE,CAAA;YACpB,OAAO,KAAK,CAAC,KAAK,CAAA;QACpB,CAAC;IACH,CAAC;IAED,qBAAqB,CAAC,EAAE,IAAyB;QAC/C,MAAM,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAA;QAC5B,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YAChC,MAAM,CAAA;QACR,CAAC;QAED,CAAC,CAAC,cAAc,EAAE,CAAA;QAElB,kDAAkD;QAClD,yCAAyC;QACzC,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,EAAE,KAAK,CAAC,CAAA;QAExC,6BAA6B;QAC7B,MAAM,MAAM,GAAG,UAAU,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAA;QACpD,6CAA6C;QAC7C,MAAM,CAAC,GAAG,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAA;QAC/B,MAAM,CAAC,GAAG,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAA;QAEhC,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC,CAAC;YACvB,KAAK,CAAC,IAAI,GAAG,CAAC,CAAA;YACd,KAAK,CAAC,IAAI,GAAG,CAAC,CAAA;QAChB,CAAC;QACD,EAAE,CAAC,CAAC,KAAK,CAAC,QAAQ,IAAI,IAAI,CAAC,CAAC,CAAC;YAC3B,KAAK,CAAC,QAAQ,GAAG,CAAC,CAAA;YAClB,KAAK,CAAC,QAAQ,GAAG,CAAC,CAAA;QACpB,CAAC;QAED,sEAAsE;QACtE,IAAI,EAAE,GAAG,CAAC,GAAG,KAAK,CAAC,IAAI,CAAA;QACvB,IAAI,EAAE,GAAG,CAAC,GAAG,KAAK,CAAC,IAAI,CAAA;QACvB,KAAK,CAAC,IAAI,GAAG,CAAC,CAAA;QACd,KAAK,CAAC,IAAI,GAAG,CAAC,CAAA;QAEd,uEAAuE;QACvE,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;YAC1B,EAAE,GAAG,CAAC,EAAE,CAAA;YACR,EAAE,GAAG,CAAC,EAAE,CAAA;QACV,CAAC;QAED,iCAAiC;QACjC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,QAAQ,GAAG,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAA;QAClE,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,QAAQ,GAAG,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAA;QAElE,UAAU,CAAC,WAAW,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,CAAA;IACrD,CAAC;IAED,iBAAiB,CAAC,EAAE,IAAyB;QAC3C,CAAC,CAAC,cAAc,EAAE,CAAA;QAClB,MAAM,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAA;QAC5B,wBAAwB;QAExB,MAAM,SAAS,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAA;QACtC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC;YACrB,iBAAiB;YACjB,KAAK,CAAC,SAAS,GAAG,SAAS,CAAA;YAC3B,MAAM,CAAA;QACR,CAAC;QAED,kBAAkB;QAClB,MAAM,SAAS,GAAG,SAAS,GAAG,KAAK,CAAC,SAAS,CAAA;QAC7C,EAAE,CAAC,CAAC,SAAS,GAAG,KAAK,CAAC,eAAe,CAAC,CAAC,CAAC;YACtC,qCAAqC;YACrC,KAAK,CAAC,SAAS,GAAG,SAAS,CAAA;YAC3B,MAAM,CAAA;QACR,CAAC;QAED,wBAAwB;QACxB,KAAK,CAAC,SAAS,GAAG,SAAS,CAAA;QAC3B,EAAE,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YACrB,WAAW,CAAC,CAAC,EAAE,IAAI,CAAC,CAAA;QACtB,CAAC;IACH,CAAC;IAED,gBAAgB,CAAC,EAAE,IAAyB;QAC1C,MAAM,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAA;QAC5B,EAAE,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YAC/B,WAAW,CAAC,CAAC,EAAE,IAAI,CAAC,CAAA;QACtB,CAAC;IACH,CAAC;IAED,gBAAgB,CAAC,EAAE,IAAyB;QAC1C,MAAM,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAA;QAE5B,4BAA4B;QAC5B,MAAM,KAAK,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAA;QAClD,wFAAwF;QACxF,MAAM,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAA;QAClC,MAAM,IAAI,GAAG,UAAU,CAAC,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,CAAA;QAEzF,uBAAuB;QACvB,IAAI,CAAC,GAAG,KAAK,CAAC,QAAQ,CAAA;QACtB,IAAI,CAAC,GAAG,KAAK,CAAC,QAAQ,CAAA;QACtB,gCAAgC;QAChC,EAAE,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC;YACd,CAAC,GAAG,KAAK,CAAC,QAAQ,GAAG,GAAG,CAAA;YACxB,CAAC,GAAG,KAAK,CAAC,QAAQ,GAAG,GAAG,CAAA;QAC1B,CAAC;QAED,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;YACX,uCAAuC;YACvC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,GAAG,CAAC,CAAA;YACvB,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,GAAG,CAAC,CAAA;YAEvB,uCAAuC;YACvC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC;gBACd,mBAAmB,EAAK,WAAW;gBACnC,kBAAkB,EAAM,QAAQ,MAAM,IAAI;gBAC1C,qBAAqB,EAAG,GAAG,CAAC,KAAK,CAAC,GAAG;aACtC,CAAC,CAAA;QACJ,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YACrC,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAA;YAC1B,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAA;YACxB,MAAM,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC,CAAA;YACjC,MAAM,IAAI,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,QAAQ,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAA;YAClF,MAAM,GAAG,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,QAAQ,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAA;YACnF,MAAM,KAAK,GAAG,KAAK,CAAC,YAAY,CAAA;YAChC,MAAM,MAAM,GAAG,KAAK,CAAC,aAAa,CAAA;YAClC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC;gBACd,kBAAkB,EAAM,QAAQ,GAAG,IAAI;gBACvC,qBAAqB,EAAG,GAAG,IAAI,MAAM,GAAG,IAAI;gBAC5C,mBAAmB,EAAK,WAAW;gBACnC,4DAA4D;gBAC5D,yBAAyB,EAAG,GAAG,KAAK,MAAM,MAAM,IAAI;gBACpD,sBAAsB,EAAM,GAAG,KAAK,MAAM,MAAM,IAAI;gBACpD,oBAAoB,EAAQ,GAAG,KAAK,MAAM,MAAM,IAAI;gBACpD,iBAAiB,EAAW,GAAG,KAAK,MAAM,MAAM,IAAI,CAAE,iDAAiD;aACxG,CAAC,CAAA;QACJ,CAAC;IACH,CAAC;IAED,oBAAoB,IAAI;QACtB,MAAM,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAA;QAC5B,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;YACjB,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,qDAAqD,CAAC,CAAA;YACzE,MAAM,CAAC,KAAK,CAAA;QACd,CAAC;QACD,EAAE,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YAC/B,KAAK,CAAC,KAAK,CAAC,OAAO,EAAE,CAAA;YACrB,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAA;QACrB,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE,CAAA;YACpB,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAA;YACpB,MAAM,CAAC,IAAI,CAAA;QACb,CAAC;QACD,MAAM,CAAC,KAAK,CAAA;IACd,CAAC;IAED,UAAU,CAAC,cAAc,CAAC,IAAI,EAAE;QAC9B,IAAI,EAAE,IAAI;QAEV,SAAS,EAAE,OAAO;QAClB,UAAU,EAAE,OAAO;QACnB,SAAS,EAAE,MAAM;QACjB,SAAS,EAAE,MAAM;QAEjB,MAAM,EAAE,MAAM;QACd,SAAS,EAAE,SAAS;QACpB,MAAM,EAAE,MAAM;KACf,CAAC,CAAA;IAEF,UAAU,CAAC,WAAW,CAAC;QACrB,UAAU,EAAE,cAAa,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA,CAAC,CAAC,CAAC,sBAAsB;KACxE,CAAC,CAAA;AAEJ,CAAC,CAAC,CAAC,UAAU,CAAC,CAAA","sourcesContent":["\nnamespace SpriteSpin {\n\n  //\n  // - INSTANCE REGISTRY\n  //\n\n  let instanceCounter = 0\n  export const instances: {[key: string]: Instance} = {}\n\n  function pushInstance(data: Instance) {\n    instanceCounter += 1\n    data.id = String(instanceCounter)\n    instances[data.id] = data\n  }\n\n  function popInstance(data: Instance) {\n    delete instances[data.id]\n  }\n\n  let lazyinit = () => {\n    // replace function with a noop\n    // this logic must run only once\n    lazyinit = () => { /* noop */ }\n\n    function eachInstance(cb) {\n      for (const id in instances) {\n        if (instances.hasOwnProperty(id)) {\n          cb(instances[id])\n        }\n      }\n    }\n\n    function onEvent(eventName, e) {\n      eachInstance((data: Instance) => {\n        for (const module of data.plugins) {\n          if (typeof module[eventName] === 'function') {\n            module[eventName].apply(data.target, [e, data])\n          }\n        }\n      })\n    }\n\n    function onResize() {\n      eachInstance((data: Instance) => {\n        if (data.responsive) {\n          boot(data)\n        }\n      })\n    }\n\n    for (const eventName of eventNames) {\n      $(window.document).bind(eventName + '.' + namespace, (e) => {\n        onEvent('document' + eventName, e)\n      })\n    }\n\n    let resizeTimeout = null\n    $(window).on('resize', () => {\n      window.clearTimeout(resizeTimeout)\n      resizeTimeout = window.setTimeout(onResize, 100)\n    })\n  }\n\n  //\n  // - PLUGIN REGISTRY\n  //\n\n  /**\n   * Collection of registered modules that can be used to extend the functionality of SpriteSpin.\n   */\n  const plugins = {}\n  /**\n   * Registers a module implementation as an available extension to SpriteSpin.\n   * Use this to add custom Rendering or Updating modules that can be addressed with the 'module' option.\n   */\n  export function registerPlugin(name, plugin) {\n    if (plugins[name]) {\n      Utils.error(`Plugin name \"${name}\" is already taken`)\n      return\n    }\n    plugin = plugin || {}\n    plugins[name] = plugin\n    return plugin\n  }\n  export function registerModule(name, plugin) {\n    Utils.warn('\"registerModule\" is deprecated, use \"registerPlugin\" instead')\n    registerPlugin(name, plugin)\n  }\n\n  //\n  // - API REGISTRY\n  //\n\n  /**\n   *\n   */\n  export class Api {\n    constructor(public data: Instance) { }\n  }\n\n  /**\n   * Helper method that allows to extend the api with more methods.\n   * Receives an object with named functions that are extensions to the API.\n   */\n  export function registerApi(methods: { [key: string]: any }) {\n    const api = Api.prototype\n    for (const key in methods) {\n      if (methods.hasOwnProperty(key)) {\n        if (api[key]) {\n          $.error('API method is already defined: ' + key)\n        } else {\n          api[key] = methods[key]\n        }\n      }\n    }\n    return api\n  }\n  export function extendApi(methods) {\n    registerApi(methods)\n  }\n\n  //\n  // - STATE REGISTRY\n  //\n\n  function getState(data: Instance, name: string): any {\n    data.state = data.state || {}\n    data.state[name] = data.state[name] || {}\n    return data.state[name]\n  }\n\n  export function getInputState(data: Instance): InputState {\n    return getState(data, 'input')\n  }\n\n  export function getAnimationState(data: Instance): AnimationState {\n    return getState(data, 'animation')\n  }\n\n  export function getPluginState(data: Instance, name: string) {\n    const state = getState(data, 'plugin')\n    state[name] = state[name] || {}\n    return state[name]\n  }\n\n  export function is(data: Instance, key: string): boolean {\n    return !!getState(data, 'flags')[key]\n  }\n\n  export function flag(data: Instance, key: string, value: boolean) {\n    getState(data, 'flags')[key] = !!value\n  }\n\n  //\n  // - INPUT HANDLING\n  //\n\n  export interface InputState {\n    oldX: number\n    oldY: number\n    currentX: number\n    currentY: number\n    startX: number\n    startY: number\n    clickframe: number\n    clicklane: number\n    dX: number\n    dY: number\n    ddX: number\n    ddY: number\n    ndX: number\n    ndY: number\n    nddX: number\n    nddY: number\n  }\n\n  /**\n   * Updates the input state of the SpriteSpin data using the given mouse or touch event.\n   */\n  export function updateInput(e, data: Instance) {\n    const cursor = Utils.getCursorPosition(e)\n    const state = getInputState(data)\n\n    // cache positions from previous frame\n    state.oldX = state.currentX\n    state.oldY = state.currentY\n\n    state.currentX = cursor.x\n    state.currentY = cursor.y\n\n    // Fix old position.\n    if (state.oldX === undefined || state.oldY === undefined) {\n      state.oldX = state.currentX\n      state.oldY = state.currentY\n    }\n\n    // Cache the initial click/touch position and store the frame number at which the click happened.\n    // Useful for different behavior implementations. This must be restored when the click/touch is released.\n    if (state.startX === undefined || state.startY === undefined) {\n      state.startX = state.currentX\n      state.startY = state.currentY\n      state.clickframe = data.frame\n      state.clicklane = data.lane\n    }\n\n    // Calculate the vector from start position to current pointer position.\n    state.dX = state.currentX - state.startX\n    state.dY = state.currentY - state.startY\n\n    // Calculate the vector from last frame position to current pointer position.\n    state.ddX = state.currentX - state.oldX\n    state.ddY = state.currentY - state.oldY\n\n    // Normalize vectors to range [-1:+1]\n    state.ndX = state.dX / data.target.innerWidth()\n    state.ndY = state.dY / data.target.innerHeight()\n\n    state.nddX = state.ddX / data.target.innerWidth()\n    state.nddY = state.ddY / data.target.innerHeight()\n  }\n\n  /**\n   * Resets the input state of the SpriteSpin data.\n   */\n  export function resetInput(data: Instance) {\n    const input = getInputState(data)\n    input.startX = input.startY = undefined\n    input.currentX = input.currentY = undefined\n    input.oldX = input.oldY = undefined\n    input.dX = input.dY = 0\n    input.ddX = input.ddY = 0\n    input.ndX = input.ndY = 0\n    input.nddX = input.nddY = 0\n  }\n\n  //\n  // - ANIMATION HANDLING\n  //\n\n  export interface AnimationState {\n    lastFrame: number\n    lastLane: number\n    handler: number\n  }\n\n  function updateLane(data: Instance, lane: number) {\n    data.lane = data.wrapLane\n      ? Utils.wrap(lane, 0, data.lanes - 1, data.lanes)\n      : Utils.clamp(lane, 0, data.lanes - 1)\n  }\n\n  function updateAnimationFrame(data: Instance) {\n    data.frame += (data.reverse ? -1 : 1)\n    // wrap the frame value to fit in range [0, data.frames)\n    data.frame = Utils.wrap(data.frame, 0, data.frames - 1, data.frames)\n    // stop animation if loop is disabled and the stopFrame is reached\n    if (!data.loop && (data.frame === data.stopFrame)) {\n      stopAnimation(data)\n    }\n  }\n\n  function updateInputFrame(data: Instance, frame: number) {\n    data.frame = Number(frame)\n    data.frame = data.wrap\n      ? Utils.wrap(data.frame, 0, data.frames - 1, data.frames)\n      : Utils.clamp(data.frame, 0, data.frames - 1)\n  }\n\n  function updateAnimation(data: Instance) {\n    const state = getAnimationState(data)\n    if (state.handler) {\n      updateBefore(data)\n      updateAnimationFrame(data)\n      updateAfter(data)\n    }\n  }\n\n  function updateBefore(data: Instance) {\n    const state = getAnimationState(data)\n    state.lastFrame = data.frame\n    state.lastLane = data.lane\n  }\n\n  function updateAfter(data: Instance) {\n    const state = getAnimationState(data)\n    if (state.lastFrame !== data.frame || state.lastLane !== data.lane) {\n      data.target.trigger('onFrameChanged', data)\n    }\n    data.target.trigger('onFrame', data)\n    data.target.trigger('onDraw', data)\n  }\n\n  /**\n   * Updates the frame number of the SpriteSpin data. Performs an auto increment if no frame number is given.\n   */\n  export function updateFrame(data: Instance, frame: number, lane?: number) {\n    updateBefore(data)\n    if (frame !== undefined) {\n      updateInputFrame(data, frame)\n    }\n    if (lane !== undefined) {\n      updateLane(data, lane)\n    }\n    updateAfter(data)\n  }\n\n  /**\n   * Stops the running animation on given SpriteSpin data.\n   */\n  export function stopAnimation(data: Instance) {\n    data.animate = false\n    const state = getAnimationState(data)\n    if (state.handler != null) {\n      window.clearInterval(state.handler)\n      state.handler = null\n    }\n  }\n\n  /**\n   * Starts animation on given SpriteSpin data if animation is enabled.\n   */\n  export function applyAnimation(data: Instance) {\n    if (data.animate) {\n      requestAnimation(data)\n    } else {\n      stopAnimation(data)\n    }\n  }\n\n  function requestAnimation(data: Instance) {\n    const state = getAnimationState(data)\n    state.handler = (state.handler || window.setInterval((() => {\n      updateAnimation(data)\n    }), data.frameTime))\n  }\n\n  //\n  //\n  //\n\n  export type Callback = (e, data: Instance) => void\n\n  export interface CallbackOptions {\n    /**\n     * Occurs when the plugin has been initialized, but before loading the source files.\n     */\n    onInit?: Callback\n    /**\n     * Occurs when any source file has been loaded and the progress has changed.\n     */\n    onProgress?: Callback\n    /**\n     * Occurs when all source files have been loaded and spritespin is ready to update and draw.\n     */\n    onLoad?: Callback\n    /**\n     * Occurs when the frame number has been updated (e.g. during animation)\n     */\n    onFrame?: Callback\n    /**\n     * Occurs when the frame number has changed.\n     */\n    onFrameChanged?: Callback\n    /**\n     * Occurs when all update is complete and frame can be drawn\n     */\n    onDraw?: Callback\n    /**\n     * Occurs when spritespin has been loaded and the first draw operation is complente\n     */\n    onComplete?: Callback\n  }\n\n  export type SizeMode = 'original' | 'fit' | 'fill' | 'stretch'\n  export type RenderMode = 'canvas' | 'image' | 'background'\n  export type Orientation = 'horizontal' | 'vertical'\n\n  export interface Options extends CallbackOptions {\n    /**\n     * The target element which should hold the spritespin instance. This is usually aready specified by the jQuery selector but can be overridden here.\n     */\n    target?: any,\n\n    /**\n     * Image URL or array of urls that should be used.\n     */\n    source: string | string[]\n\n    /**\n     * The display width in pixels. Width and height should match the aspect ratio of the frames.\n     */\n    width?: number\n\n    /**\n     * The display height in pixels. Width and height should match the aspect ratio of the frames.\n     */\n    height?: number\n\n    /**\n     * This is the number of frames for a full 360 rotation. If multiple lanes are used, each lane must have this amount of frames.\n     */\n    frames: number\n\n    /**\n     * Number of frames in one row of a single sprite sheet.\n     */\n    framesX?: number\n\n    /**\n     * Number of sequences.\n     */\n    lanes?: number\n\n    /**\n     * Specifies how the frames are sized and scaled if it does not match the given\n     * width and height dimensions.\n     */\n    sizeMode?: SizeMode\n\n    /**\n     * The presentation module to use\n     *\n     * @deprecated please use plugins option instead\n     */\n    module?: string\n    /**\n     * The interaction module to use\n     *\n     * @deprecated please use plugins option instead\n     */\n    behavior?: string\n\n    /**\n     * Specifies the rendering mode.\n     */\n    renderer?: RenderMode\n\n    /**\n     * The initial sequence number to play. This value is updated each frame and also represends the current lane number.\n     */\n    lane?: number\n    /**\n     * Initial frame number. This value is updated each frame and also represends the current frame number.\n     */\n    frame?: number\n    /**\n     * Time in ms between updates. e.g. 40 is exactly 25 FPS\n     */\n    frameTime?: number\n    /**\n     * If true, starts the animation automatically on load\n     */\n    animate?: boolean\n    /**\n     * If true, animation playback is reversed\n     */\n    reverse?: boolean\n    /**\n     * If true, continues to play the animation in a loop without stopping.\n     */\n    loop?: boolean\n    /**\n     * Stops the animation on that frame if `loop` is false.\n     */\n    stopFrame?: number\n\n    /**\n     * If true, allows the user to drag the animation beyond the last frame and wrap over to the beginning.\n     */\n    wrap?: boolean\n    /**\n     * If true, allows the user to drag the animation beyond the last sequence and wrap over to the beginning.\n     */\n    wrapLane?: boolean\n    /**\n     * Sensitivity factor for user interaction\n     */\n    sense?: number\n    /**\n     * Sensitivity factor for user interaction\n     */\n    senseLane?: number\n    /**\n     * Preferred axis for user interaction\n     */\n    orientation?: Orientation | number\n    /**\n     * If true, tries to detect whether the images are downsampled by the browser.\n     */\n    detectSubsampling?: boolean\n    /**\n     * Number of pixels the user must drag within a frame to enable page scroll (for touch devices)\n     */\n    scrollThreshold?: number\n    /**\n     * Number of images to preload. If nothing is set, all images are preloaded.\n     */\n    preloadCount?: number\n\n    /**\n     * If true, display width can be controlled by CSS. width and height must still both be set and are used to calculate the aspect ratio.\n     */\n    responsive?: boolean\n\n    /**\n     * Array of plugins to load\n     */\n    plugins?: any[]\n  }\n\n  export interface Instance extends Options {\n    /**\n     * The unique spritespin instance identifier\n     */\n    id: string\n\n    /**\n     * Array of all image urls\n     */\n    source: string[]\n\n    /**\n     * Array of all image elements\n     */\n    images: HTMLImageElement[]\n\n    /**\n     * The current preload progress state\n     */\n    progress: null | SpriteSpin.Utils.PreloadProgress\n\n    /**\n     * Array with measurement information for each image\n     */\n    metrics: Utils.SheetSpec[]\n\n    /**\n     * The detected width of a single frame\n     */\n    frameWidth: number\n\n    /**\n     * The detected height of a single frame\n     */\n    frameHeight: number\n\n    /**\n     * Opaque state object. Plugins may store their information here.\n     */\n    state: any\n\n    /**\n     * Is true during the preload phase\n     */\n    loading: boolean\n\n    /**\n     * The target element\n     */\n    target: JQuery\n\n    /**\n     * The inner stage element\n     */\n    stage: JQuery\n\n    /**\n     * The inner canvas element\n     */\n    canvas: JQuery<HTMLCanvasElement>\n\n    /**\n     * The 2D context of the canvas element\n     */\n    context: CanvasRenderingContext2D\n\n    /**\n     * The pixel ratio of the canvas element\n     */\n    canvasRatio: number\n  }\n\n  export const $: any = (window['jQuery'] || window['Zepto'] || window['$']) // tslint:disable-line\n\n  /**\n   * The namespace that is used to bind functions to DOM events and store the data object\n   */\n  export const namespace = 'spritespin'\n\n  /**\n   * Event names that are recognized by SpriteSpin. A module can implement any of these and they will be bound\n   * to the target element on which the plugin is called.\n   */\n  export const eventNames = [\n    'mousedown',\n    'mousemove',\n    'mouseup',\n    'mouseenter',\n    'mouseover',\n    'mouseleave',\n    'dblclick',\n    'mousewheel',\n    'touchstart',\n    'touchmove',\n    'touchend',\n    'touchcancel',\n    'selectstart',\n    'gesturestart',\n    'gesturechange',\n    'gestureend'\n  ]\n\n  /**\n   *\n   */\n  export const callbackNames = [\n    'onInit',\n    'onProgress',\n    'onLoad',\n    'onFrameChanged',\n    'onFrame',\n    'onDraw',\n    'onComplete'\n  ]\n\n  /**\n   * Names of events for that the default behavior should be prevented.\n   */\n  export const eventsToPrevent = [\n    'dragstart'\n  ]\n\n  /**\n   * Default set of SpriteSpin options. This also represents the majority of data attributes that are used during the\n   * lifetime of a SpriteSpin instance. The data is stored inside the target DOM element on which the plugin is called.\n   */\n  export const defaults: Options = {\n    source            : undefined,    // Stitched source image or array of files\n    width             : undefined,    // actual display width\n    height            : undefined,    // actual display height\n    frames            : undefined,    // Total number of frames\n    framesX           : undefined,    // Number of frames in one row of sprite sheet (if source is a spritesheet)\n    lanes             : 1,            // Number of 360 sequences. Used for 3D like effect.\n    sizeMode          : undefined,    //\n\n    renderer          : 'canvas',     // The rendering mode to use\n\n    lane              : 0,            // The initial sequence number to play\n    frame             : 0,            // Initial (and current) frame number\n    frameTime         : 40,           // Time in ms between updates. 40 is exactly 25 FPS\n    animate           : true,         // If true starts the animation on load\n    reverse           : false,        // If true animation is played backward\n    loop              : true,         // If true loops the animation\n    stopFrame         : 0,            // Stops the animation at this frame if loop is disabled\n\n    wrap              : true,         // If true wraps around the frame index on user interaction\n    wrapLane          : false,        // If true wraps around the lane index on user interaction\n    sense             : 1,            // Interaction sensitivity used by behavior implementations\n    senseLane         : undefined,    // Interaction sensitivity used by behavior implementations\n    orientation       : 'horizontal', // Preferred axis for user interaction\n    detectSubsampling : true,         // Tries to detect whether the images are downsampled by the browser.\n    scrollThreshold   : 50,           // Number of pixels the user must drag within a frame to enable page scroll (for touch devices)\n    preloadCount      : undefined,    // Number of frames to preload. If nothing is set, all frames are preloaded.\n\n    responsive        : undefined,\n    plugins           : [\n      '360',\n      'drag'\n    ]\n  }\n\n  /**\n   * Replaces module names on given SpriteSpin data and replaces them with actual implementations.\n   */\n  export function applyPlugins(data: Instance) {\n    for (let i = 0; i < data.plugins.length; i += 1) {\n      const name = data.plugins[i]\n      if (typeof name !== 'string') {\n        continue\n      }\n      const plugin = plugins[name]\n      if (!plugin) {\n        Utils.error('No plugin found with name ' + name)\n        continue\n      }\n      data.plugins[i] = plugin\n    }\n  }\n\n  /**\n   * Applies css attributes to layout the SpriteSpin containers.\n   */\n  export function applyLayout(data: Instance) {\n    // disable selection\n    data.target\n      .attr('unselectable', 'on')\n      .css({\n        width: '',\n        height: '',\n        '-ms-user-select': 'none',\n        '-moz-user-select': 'none',\n        '-khtml-user-select': 'none',\n        '-webkit-user-select': 'none',\n        'user-select': 'none'\n      })\n\n    const size = data.responsive ? Utils.getComputedSize(data) : Utils.getOuterSize(data)\n    const layout = Utils.getInnerLayout(data.sizeMode, Utils.getInnerSize(data), size)\n\n    // apply layout on target\n    data.target.css({\n      width    : size.width,\n      height   : size.height,\n      position : 'relative',\n      overflow : 'hidden'\n    })\n\n    // apply layout on stage\n    data.stage.css(layout).hide()\n\n    if (!data.canvas) { return }\n    // apply layout on canvas\n    data.canvas.css(layout).hide()\n    data.context.scale(data.canvasRatio, data.canvasRatio)\n\n    // apply pixel ratio on canvas\n    data.canvasRatio = data.canvasRatio || Utils.pixelRatio(data.context)\n    if (typeof layout.width === 'number' && typeof layout.height === 'number') {\n      data.canvas[0].width = ((layout.width as number) * data.canvasRatio) || size.width\n      data.canvas[0].height = ((layout.height as number) * data.canvasRatio) || size.height\n    } else {\n      data.canvas[0].width = (size.width * data.canvasRatio)\n      data.canvas[0].height = (size.height * data.canvasRatio)\n    }\n  }\n\n  /**\n   * (re)binds all spritespin events on the target element\n   */\n  export function applyEvents(data: Instance) {\n    const target = data.target\n\n    // Clear all SpriteSpin events on the target element\n    Utils.unbind(target)\n\n    // disable all default browser behavior on the following events\n    // mainly prevents image drag operation\n    for (const eName of SpriteSpin.eventsToPrevent) {\n      Utils.bind(target, eName, Utils.prevent)\n    }\n\n    // Bind module functions to SpriteSpin events\n    for (const plugin of data.plugins) {\n      for (const eName of SpriteSpin.eventNames) {\n        Utils.bind(target, eName, plugin[eName])\n      }\n      for (const eName of SpriteSpin.callbackNames) {\n        Utils.bind(target, eName, plugin[eName])\n      }\n    }\n\n    // bind auto start function to load event.\n    Utils.bind(target, 'onLoad', (e, d) => {\n      applyAnimation(d)\n    })\n\n    // bind all user events that have been passed on initialization\n    for (const eName of SpriteSpin.callbackNames) {\n      Utils.bind(target, eName, data[eName])\n    }\n  }\n\n  function applyMetrics(data: Instance) {\n    if (!data.images) {\n      data.metrics = []\n    }\n    data.metrics = Utils.measure(data.images, data)\n    const spec = Utils.findSpecs(data.metrics, data.frames, 0, 0)\n    if (spec.sprite) {\n      // TODO: try to remove frameWidth/frameHeight\n      data.frameWidth = spec.sprite.width\n      data.frameHeight = spec.sprite.height\n    }\n  }\n\n  /**\n   * Runs the boot process. (re)initializes plugins, (re)initializes the layout, (re)binds events and loads source images.\n   */\n  export function boot(data: Instance) {\n    applyPlugins(data)\n    applyLayout(data)\n    applyEvents(data)\n\n    data.loading = true\n    data.target.addClass('loading').trigger('onInit', data)\n    Utils.preload({\n      source: data.source,\n      preloadCount: data.preloadCount,\n      progress: (progress) => {\n        data.progress = progress\n        data.target.trigger('onProgress', data)\n      },\n      complete: (images) => {\n        data.images = images\n        data.loading = false\n        data.frames = data.frames || images.length\n\n        applyMetrics(data)\n        applyLayout(data)\n        data.stage.show()\n        data.target\n          .removeClass('loading')\n          .trigger('onLoad', data)\n          .trigger('onFrame', data)\n          .trigger('onDraw', data)\n          .trigger('onComplete', data)\n      }\n    })\n  }\n\n  function instantiate(options: Options): Instance {\n    const $this = options.target\n\n    // SpriteSpin is not initialized\n    // Create default settings object and extend with given options\n    const data = $.extend({}, defaults, options) as Instance\n\n    // ensure source is set\n    data.source = data.source || []\n    // ensure plugins are set\n    data.plugins = data.plugins || []\n\n    // if image tags are contained inside this DOM element\n    // use these images as the source files\n    $this.find('img').each(() => {\n      if (!Array.isArray(data.source)) {\n        data.source = []\n      }\n      data.source.push($(this).attr('src'))\n    })\n\n    // build inner html\n    // <div>\n    //   <div class='spritespin-stage'></div>\n    //   <canvas class='spritespin-canvas'></canvas>\n    // </div>\n    $this\n      .empty()\n      .addClass('spritespin-instance')\n      .append(\"<div class='spritespin-stage'></div>\")\n\n    // add the canvas element if canvas rendering is enabled and supported\n    if (data.renderer === 'canvas') {\n      const canvas = document.createElement('canvas')\n      if (!!(canvas.getContext && canvas.getContext('2d'))) {\n        data.canvas = $(canvas).addClass('spritespin-canvas')\n        data.context = canvas.getContext('2d')\n        $this.append(data.canvas)\n        $this.addClass('with-canvas')\n      } else {\n        // fallback to image rendering mode\n        data.renderer = 'image'\n      }\n    }\n\n    // setup references to DOM elements\n    data.target = $this\n    data.stage = $this.find('.spritespin-stage')\n\n    // store the data\n    $this.data(namespace, data)\n    pushInstance(data)\n\n    return data\n  }\n\n  function fixPlugins(data: Instance) {\n\n    // tslint:disable\n    if (data['mods']) {\n      Utils.warn('\"mods\" option is deprecated, use \"plugins\" instead')\n      data.plugins = data['mods']\n    }\n    // tslint:enable\n\n    if (data.behavior || data.module) {\n      Utils.warn('\"behavior\" and \"module\" options are deprecated, use \"plugins\" instead')\n      if (data.behavior) {\n        data.plugins.push(data.behavior)\n      }\n      if (data.module) {\n        data.plugins.push(data.module)\n      }\n\n      delete data.behavior\n      delete data.module\n    }\n  }\n\n  /**\n   * Initializes the target element with spritespin data.\n   */\n  export function createOrUpdate(options: Options) {\n    lazyinit()\n\n    const $this = options.target\n    let data  = $this.data(namespace) as Instance\n\n    if (!data) {\n      data = instantiate(options)\n    } else {\n      // just update the data object\n      $.extend(data, options)\n    }\n\n    data.source = Utils.toArray(data.source)\n\n    fixPlugins(data)\n\n    boot(data)\n  }\n\n  /**\n   * Stops running animation, unbinds all events and deletes the data on the target element of the given data object.\n   */\n  export function destroy(data: Instance) {\n    popInstance(data)\n    stopAnimation(data)\n    Utils.unbind(data.target)\n    data.target.removeData(namespace)\n  }\n\n  function extension(obj, value) {\n    if (obj === 'data') {\n      return this.data(namespace)\n    }\n    if (obj === 'api') {\n      const data = this.data(namespace)\n      data.api = data.api || new SpriteSpin.Api(data)\n      return data.api\n    }\n    if (obj === 'destroy') {\n      return $(this).each(() => {\n        SpriteSpin.destroy($(this).data(namespace))\n      })\n    }\n    if (arguments.length === 2 && typeof obj === 'string') {\n      const tmp = {}\n      tmp[obj] = value\n      obj = tmp\n    }\n    if (typeof obj === 'object') {\n      obj.target = obj.target || $(this)\n      SpriteSpin.createOrUpdate(obj)\n      return obj.target\n    }\n\n    return $.error('Invalid call to spritespin')\n  }\n\n  $.fn.spritespin = extension\n}\n","namespace SpriteSpin.Utils {\n  export function getCursorPosition(event) {\n    let touches = event.touches\n    let source = event\n\n    // jQuery Event normalization does not preserve the 'event.touches'\n    // try to grab touches from the original event\n    if (event.touches === undefined && event.originalEvent !== undefined) {\n      touches = event.originalEvent.touches\n    }\n    // get current touch or mouse position\n    if (touches !== undefined && touches.length > 0) {\n      source = event.touches[0]\n    }\n    return {\n      x: source.clientX || 0,\n      y: source.clientY || 0\n    }\n  }\n}\n","namespace SpriteSpin.Utils {\n\n  let canvas\n  let context\n\n  function detectionContext() {\n    if (context) {\n      return context\n    }\n\n    if (!canvas) {\n      canvas = document.createElement('canvas')\n    }\n    if (!canvas || !canvas.getContext) {\n      return null\n    }\n\n    context = canvas.getContext('2d')\n    return context\n  }\n\n  /**\n   * Idea taken from https://github.com/stomita/ios-imagefile-megapixel\n   * Detects whether the image has been sub sampled by the browser and does not have its original dimensions.\n   * This method unfortunately does not work for images that have transparent background.\n   */\n  export function detectSubsampling(img: HTMLImageElement, width: number, height: number) {\n\n    if (!detectionContext()) {\n      return false\n    }\n\n    // sub sampling happens on images above 1 megapixel\n    if (width * height <= 1024 * 1024) {\n      return false\n    }\n\n    // set canvas to 1x1 pixel size and fill it with magenta color\n    canvas.width = canvas.height = 1\n    context.fillStyle = '#FF00FF'\n    context.fillRect(0, 0, 1, 1)\n    // render the image with a negative offset to the left so that it would\n    // fill the canvas pixel with the top right pixel of the image.\n    context.drawImage(img, -width + 1, 0)\n\n    // check color value to confirm image is covering edge pixel or not.\n    // if color still magenta, the image is assumed to be sub sampled.\n    try {\n      const dat = context.getImageData(0, 0, 1, 1).data\n      return (dat[0] === 255) && (dat[1] === 0) && (dat[2] === 255)\n    } catch (err) {\n      // avoids cross origin exception for chrome when code runs without a server\n      return false\n    }\n  }\n}\n","namespace SpriteSpin.Utils {\n\n  export interface Layoutable {\n    width?: number\n    height?: number\n    frameWidth?: number\n    frameHeight?: number\n    target: any\n    sizeMode?: SizeMode\n  }\n\n  export interface Layout {\n    [key: string]: any\n    width: string | number\n    height: string | number\n    top: number\n    left: number\n    bottom: number\n    right: number\n    position: 'absolute'\n    overflow: 'hidden'\n  }\n\n  export interface SizeWithAspect {\n    width: number\n    height: number\n    aspect: number\n  }\n\n  /**\n   *\n   */\n  export function getOuterSize(data: Layoutable): SizeWithAspect {\n    const width = Math.floor(data.width || data.frameWidth || data.target.innerWidth())\n    const height = Math.floor(data.height || data.frameHeight || data.target.innerHeight())\n    return {\n      aspect: width / height,\n      height,\n      width\n    }\n  }\n\n  export function getComputedSize(data: Layoutable): SizeWithAspect {\n    const size = getOuterSize(data)\n    if (typeof window.getComputedStyle !== 'function') { return size }\n\n    const style = window.getComputedStyle(data.target[0])\n    if (!style.width) { return size }\n\n    size.width = Math.floor(Number(style.width.replace('px', '')))\n    size.height = Math.floor(size.width / size.aspect)\n    return size\n  }\n\n  /**\n   *\n   */\n  export function getInnerSize(data: Layoutable): SizeWithAspect {\n    const width = Math.floor(data.frameWidth || data.width || data.target.innerWidth())\n    const height = Math.floor(data.frameHeight || data.height || data.target.innerHeight())\n    return {\n      aspect: width / height,\n      height,\n      width\n    }\n  }\n\n  /**\n   *\n   */\n  export function getInnerLayout(mode: SizeMode, inner: SizeWithAspect, outer: SizeWithAspect): Layout {\n\n    // get mode\n    const isFit = mode === 'fit'\n    const isFill = mode === 'fill'\n    const isMatch = mode === 'stretch'\n\n    // resulting layout\n    const layout: Layout = {\n      width    : '100%',\n      height   : '100%',\n      top      : 0,\n      left     : 0,\n      bottom   : 0,\n      right    : 0,\n      position : 'absolute',\n      overflow : 'hidden'\n    }\n\n    // no calculation here\n    if (!mode || isMatch) {\n      return layout\n    }\n\n    // get size and aspect\n    const aspectIsGreater = inner.aspect >= outer.aspect\n\n    // mode == original\n    let width = inner.width\n    let height = inner.height\n\n    // keep aspect ratio but fit/fill into container\n    if (isFit && aspectIsGreater || isFill && !aspectIsGreater) {\n      width = outer.width\n      height = outer.width / inner.aspect\n    }\n    if (isFill && aspectIsGreater || isFit && !aspectIsGreater) {\n      height = outer.height\n      width = outer.height * inner.aspect\n    }\n\n    // floor the numbers\n    width = Math.floor(width)\n    height = Math.floor(height)\n\n    // position in center\n    layout.width = width\n    layout.height = height\n    layout.top = Math.floor((outer.height - height) / 2)\n    layout.left = Math.floor((outer.width - width) / 2)\n    layout.right = layout.left\n    layout.bottom = layout.top\n\n    return layout\n  }\n}\n","namespace SpriteSpin.Utils {\n\n  /**\n   *\n   */\n  export interface MeasureSheetOptions {\n    frames: number\n    framesX?: number\n    detectSubsampling?: boolean\n  }\n\n  /**\n   *\n   */\n  export interface SheetSpec {\n    id: number\n    width: number\n    height: number\n    sprites: SpriteSpec[]\n\n    sampledWidth?: number\n    sampledHeight?: number\n    isSubsampled?: boolean\n  }\n\n  /**\n   *\n   */\n  export interface SpriteSpec {\n    id: number\n    x: number\n    y: number\n    width: number\n    height: number\n\n    sampledX?: number\n    sampledY?: number\n    sampledWidth?: number\n    sampledHeight?: number\n  }\n\n  /**\n   * Measures the image frames that are used in the given data object\n   */\n  export function measure(images: HTMLImageElement[], options: MeasureSheetOptions): SheetSpec[] {\n    if (images.length === 1) {\n      return [measureSheet(images[0], options)]\n    } else {\n      return measureFrames(images, options)\n    }\n  }\n\n  function measureSheet(image: HTMLImageElement, options: MeasureSheetOptions): SheetSpec {\n    const result: SheetSpec = { id: 0, sprites: [] } as any\n    measureImage(image, options, result)\n    const frames = options.frames\n    const framesX = Number(options.framesX) || frames\n    const framesY = Math.ceil(frames / framesX)\n    const frameWidth = Math.floor(result.width / framesX)\n    const frameHeight = Math.floor(result.height / framesY)\n    const divisor = result.isSubsampled ? 2 : 1\n    for (let i = 0; i < frames; i++) {\n      const x = (i % framesX) * frameWidth\n      const y = Math.floor(i / framesX) * frameHeight\n      result.sprites.push({\n        id: i,\n        x: x, y: y,\n        width: frameWidth,\n        height: frameHeight,\n        sampledX: x / divisor,\n        sampledY: y / divisor,\n        sampledWidth: frameWidth / divisor,\n        sampledHeight: frameHeight / divisor\n      })\n    }\n    return result\n  }\n\n  function measureFrames(images: HTMLImageElement[], options: MeasureSheetOptions): SheetSpec[] {\n    const result: SheetSpec[] = []\n    for (let id = 0; id < images.length; id++) {\n      // TODO: optimize\n      // dont measure images with same size twice\n      const sheet = measureSheet(images[id], { frames: 1, framesX: 1, detectSubsampling: options.detectSubsampling })\n      sheet.id = id\n      result.push(sheet)\n    }\n    return result\n  }\n\n  function measureImage(image: HTMLImageElement, options: MeasureSheetOptions, result: SheetSpec): SheetSpec {\n    const size = Utils.naturalSize(image)\n    result.isSubsampled = options.detectSubsampling && Utils.detectSubsampling(image, size.width, size.height)\n    result.width = size.width\n    result.height = size.height\n    result.sampledWidth = size.width / (result.isSubsampled ? 2 : 1)\n    result.sampledHeight = size.height / (result.isSubsampled ? 2 : 1)\n    return result\n  }\n\n  export function findSpecs(metrics: SheetSpec[], frames: number, frame: number, lane: number) {\n    let spriteId = lane * frames + frame\n    let sheetId = 0\n    let sprite: SpriteSpin.Utils.SpriteSpec = null\n    let sheet: SpriteSpin.Utils.SheetSpec = null\n\n    while (true) {\n      sheet = metrics[sheetId]\n      if (!sheet) { break }\n\n      if (spriteId >= sheet.sprites.length) {\n        spriteId -= sheet.sprites.length\n        sheetId++\n        continue\n      }\n\n      sprite = sheet.sprites[spriteId]\n      break\n    }\n    return { sprite, sheet }\n  }\n}\n","namespace SpriteSpin.Utils {\n\n  let img: HTMLImageElement\n\n  /**\n   * gets the original width and height of an image element\n   */\n  export function naturalSize(image: HTMLImageElement) {\n    // for browsers that support naturalWidth and naturalHeight properties\n    if (image.naturalWidth) {\n      return {\n        height: image.naturalHeight,\n        width: image.naturalWidth\n      }\n    }\n\n    // browsers that do not support naturalWidth and naturalHeight properties have to fall back to the width and\n    // height properties. However, the image might have a css style applied so width and height would return the\n    // css size. To avoid thet create a new Image object that is free of css rules and grab width and height\n    // properties\n    //\n    // assume that the src has already been downloaded, so no onload callback is needed.\n    img = img || new Image()\n    img.src = image.src\n    return {\n      height: img.height,\n      width: img.width\n    }\n  }\n}\n","namespace SpriteSpin.Utils {\n\n  function indexOf(element: any, arr: any[]) {\n    for (let i = 0; i < arr.length; i++) {\n      if (arr[i] === element) {\n        return i\n      }\n    }\n  }\n\n  function noop() {\n    //\n  }\n\n  export interface PreloadOptions {\n    source: string | string[]\n    preloadCount?: number\n    initiated?: (images: HTMLImageElement[]) => void\n    progress?: (p: PreloadProgress) => void\n    complete?: (images: HTMLImageElement[]) => void\n  }\n\n  export interface PreloadProgress {\n    // The image index that currently has been loaded\n    index: number\n    // The number of images that have been loaded so far\n    loaded: number\n    // The total number of images to load\n    total: number\n    // Percentage value\n    percent: number\n  }\n\n  export function preload(opts: PreloadOptions) {\n    let src: string[]\n    const input = opts.source\n    src = typeof input === 'string' ? [input] : input\n    // const src: string[] =  ? [opts.source] : opts.source\n\n    const images = []\n    const targetCount = (opts.preloadCount || src.length)\n    const onInitiated = opts.initiated || noop\n    const onProgress = opts.progress || noop\n    const onComplete = opts.complete || noop\n\n    let count = 0\n    let completed = false\n    let firstLoaded = false\n\n    const tick = function () { // tslint:disable-line\n      count += 1\n\n      onProgress({\n        index: indexOf(this, images),\n        loaded: count,\n        total: src.length,\n        percent: Math.round((count / src.length) * 100)\n      })\n\n      firstLoaded = firstLoaded || (this === images[0])\n\n      if (firstLoaded && !completed && (count >= targetCount)) {\n        completed = true\n        onComplete(images)\n      }\n    }\n\n    for (const url of src) {\n      const img = new Image()\n      // push result\n      images.push(img)\n      // bind logic, dont care about abort/errors\n      img.onload = img.onabort = img.onerror = tick\n      // begin load\n      img.src = url\n    }\n\n    onInitiated(images)\n  }\n}\n","namespace SpriteSpin.Utils {\n\n  function padNumber(num, length, pad) {\n    num = String(num)\n    while (num.length < length) {\n      num = String(pad) + num\n    }\n    return num\n  }\n\n  /**\n   * Generates an array of source strings\n   * - path is a source string where the frame number of the file name is exposed as '{frame}'\n   * - start indicates the first frame number\n   * - end indicates the last frame number\n   * - digits is the number of digits used in the file name for the frame number\n   * @example\n   *      sourceArray('http://example.com/image_{frame}.jpg, { frame: [1, 3], digits: 2 })\n   *      // -> [ 'http://example.com/image_01.jpg', 'http://example.com/image_02.jpg', 'http://example.com/image_03.jpg' ]\n   */\n  export function sourceArray(path, opts) {\n    let fStart = 0, fEnd = 0, lStart = 0, lEnd = 0\n    const digits = opts.digits || 2\n\n    if (opts.frame) {\n      fStart = opts.frame[0]\n      fEnd = opts.frame[1]\n    }\n    if (opts.lane) {\n      lStart = opts.lane[0]\n      lEnd = opts.lane[1]\n    }\n    let i, j, temp\n    const result = []\n    for (i = lStart; i <= lEnd; i += 1) {\n      for (j = fStart; j <= fEnd; j += 1) {\n        temp = path.replace('{lane}', padNumber(i, digits, 0))\n        temp = temp.replace('{frame}', padNumber(j, digits, 0))\n        result.push(temp)\n      }\n    }\n    return result\n  }\n}\nnamespace SpriteSpin {\n  export const sourceArray = Utils.sourceArray\n}\n","namespace SpriteSpin.Utils {\n  export function noop() {\n    // noop\n  }\n\n  function wrapConsole(type: string): (message?: any, ...optionalParams: any[]) => void {\n    return console && console[type] ? (...args: any[]) => console.log.apply(console, args) : noop\n  }\n\n  export const log = wrapConsole('log')\n  export const warn = wrapConsole('warn')\n  export const error = wrapConsole('error')\n\n  export function toArray<T>(value: T | T[]): T[] {\n    return Array.isArray(value) ? value : [value]\n  }\n\n  /**\n   * clamps the given value by the given min and max values\n   */\n  export function clamp(value, min, max) {\n    return (value > max ? max : (value < min ? min : value))\n  }\n\n  /**\n   *\n   */\n  export function wrap(value, min, max, size) {\n    while (value > max) { value -= size }\n    while (value < min) { value += size }\n    return value\n  }\n\n  /**\n   * prevents default action on the given event\n   */\n  export function prevent(e) {\n    e.preventDefault()\n    return false\n  }\n\n  /**\n   * Binds on the given target and event the given function.\n   * The SpriteSpin namespace is attached to the event name\n   */\n  export function bind(target, event, func) {\n    if (func) {\n      target.bind(event + '.' + SpriteSpin.namespace, (e) => {\n        func.apply(target, [e, target.spritespin('data')])\n      })\n    }\n  }\n\n  /**\n   * Unbinds all SpriteSpin events from given target element\n   */\n  export function unbind(target: any): void {\n    target.unbind('.' + SpriteSpin.namespace)\n  }\n\n  /**\n   * Checks if given object is a function\n   */\n  export function isFunction(fn: any): boolean {\n    return typeof fn === 'function'\n  }\n\n  export function pixelRatio(context) {\n    const devicePixelRatio = window.devicePixelRatio || 1\n    const backingStoreRatio =\n      context.webkitBackingStorePixelRatio ||\n      context.mozBackingStorePixelRatio ||\n      context.msBackingStorePixelRatio ||\n      context.oBackingStorePixelRatio ||\n      context.backingStorePixelRatio || 1\n    return devicePixelRatio / backingStoreRatio\n  }\n}\n","// tslint:disable:object-literal-shorthand\n// tslint:disable:only-arrow-functions\n\nnamespace SpriteSpin {\n\n  SpriteSpin.registerApi({\n    // Gets a value indicating whether the animation is currently running.\n    isPlaying: function() {\n      return SpriteSpin.getAnimationState(this.data).handler != null\n    },\n\n    // Gets a value indicating whether the animation looping is enabled.\n    isLooping: function() {\n      return this.data.loop\n    },\n\n    // Starts/Stops the animation playback\n    toggleAnimation: function() {\n      if (this.isPlaying()) {\n        this.stopAnimation()\n      } else {\n        this.startAnimation()\n      }\n    },\n\n    // Stops animation playback\n    stopAnimation: function() {\n      this.data.animate = false\n      SpriteSpin.stopAnimation(this.data)\n    },\n\n    // Starts animation playback\n    startAnimation: function() {\n      this.data.animate = true\n      SpriteSpin.applyAnimation(this.data)\n    },\n\n    // Sets a value indicating whether the animation should be looped or not.\n    // This might start the animation (if the 'animate' data attribute is set to true)\n    loop: function(value) {\n      this.data.loop = value\n      SpriteSpin.applyAnimation(this.data)\n      return this\n    },\n\n    // Gets the current frame number\n    currentFrame: function() {\n      return this.data.frame\n    },\n\n    // Updates SpriteSpin to the specified frame.\n    updateFrame: function(frame) {\n      SpriteSpin.updateFrame(this.data, frame)\n      return this\n    },\n\n    // Skips the given number of frames\n    skipFrames: function(step) {\n      const data = this.data\n      SpriteSpin.updateFrame(data, data.frame + (data.reverse ? - step : + step))\n      return this\n    },\n\n    // Updates SpriteSpin so that the next frame is shown\n    nextFrame: function() {\n      return this.skipFrames(1)\n    },\n\n    // Updates SpriteSpin so that the previous frame is shown\n    prevFrame: function() {\n      return this.skipFrames(-1)\n    },\n\n    // Starts the animations that will play until the given frame number is reached\n    // options:\n    //   force [boolean] starts the animation, even if current frame is the target frame\n    //   nearest [boolean] animates to the direction with minimum distance to the target frame\n    playTo: function(frame, options) {\n      const data = this.data\n      options = options || {}\n      if (!options.force && data.frame === frame) {\n        return\n      }\n      if (options.nearest) {\n        // distance to the target frame\n        const a = frame - data.frame\n        // distance to last frame and the to target frame\n        const b = frame > data.frame ? a - data.frames : a + data.frames\n        // minimum distance\n        const c = Math.abs(a) < Math.abs(b) ? a : b\n        data.reverse = c < 0\n      }\n      data.animate = true\n      data.loop = false\n      data.stopFrame = frame\n      SpriteSpin.applyAnimation(data)\n      return this\n    }\n  })\n}\n","// tslint:disable:only-arrow-functions\nnamespace SpriteSpin.Fullscreen {\n\n  export interface Options {\n    source?: string | string[],\n    sizeMode?: SpriteSpin.SizeMode\n  }\n\n  function pick(target, names: string[]): string {\n    for (const name of names) {\n      if (target[name] || name in target) {\n        return name\n      }\n    }\n    return names[0]\n  }\n\n  const browser = {\n    requestFullscreen: pick(document.documentElement, [\n      'requestFullscreen',\n      'webkitRequestFullScreen',\n         'mozRequestFullScreen',\n          'msRequestFullscreen']),\n    exitFullscreen: pick(document, [\n      'exitFullscreen',\n      'webkitExitFullscreen',\n      'webkitCancelFullScreen',\n         'mozCancelFullScreen',\n          'msExitFullscreen']),\n    fullscreenElement: pick(document, [\n      'fullscreenElement',\n      'webkitFullscreenElement',\n      'webkitCurrentFullScreenElement',\n         'mozFullScreenElement',\n          'msFullscreenElement']),\n    fullscreenEnabled: pick(document, [\n      'fullscreenEnabled',\n      'webkitFullscreenEnabled',\n         'mozFullScreenEnabled',\n          'msFullscreenEnabled']),\n    fullscreenchange: pick(document, [\n      'onfullscreenchange',\n      'onwebkitfullscreenchange',\n         'onmozfullscreenchange',\n          'onMSFullscreenChange']).replace(/^on/, ''),\n    fullscreenerror: pick(document, [\n      'onfullscreenerror',\n      'onwebkitfullscreenerror',\n         'onmozfullscreenerror',\n          'onMSFullscreenError']).replace(/^on/, '')\n  }\n\n  const changeEvent = browser.fullscreenchange + '.' + SpriteSpin.namespace + '-fullscreen'\n  function unbindChangeEvent() {\n    SpriteSpin.$(document).unbind(changeEvent)\n  }\n\n  function bindChangeEvent(callback) {\n    unbindChangeEvent()\n    SpriteSpin.$(document).bind(changeEvent, callback)\n  }\n\n  const orientationEvent = 'orientationchange.' + SpriteSpin.namespace + '-fullscreen'\n  function unbindOrientationEvent() {\n    SpriteSpin.$(window).unbind(orientationEvent)\n  }\n  function bindOrientationEvent(callback) {\n    unbindOrientationEvent()\n    SpriteSpin.$(window).bind(orientationEvent, callback)\n  }\n\n  function requestFullscreenNative(e) {\n    e = e || document.documentElement\n    e[browser.requestFullscreen]()\n  }\n\n  export function exitFullscreen() {\n    return document[browser.exitFullscreen]()\n  }\n\n  export function fullscreenEnabled() {\n    return document[browser.fullscreenEnabled]\n  }\n\n  export function fullscreenElement() {\n    return document[browser.fullscreenElement]\n  }\n\n  export function isFullscreen() {\n    return !!fullscreenElement()\n  }\n\n  export function toggleFullscreen(data: SpriteSpin.Instance, opts: Options) {\n    if (isFullscreen()) {\n      this.apiRequestFullscreen(opts)\n    } else {\n      this.exitFullscreen()\n    }\n  }\n\n  export function requestFullscreen(data: SpriteSpin.Instance, opts: Options) {\n    opts = opts || {}\n    const oWidth = data.width\n    const oHeight = data.height\n    const oSource = data.source\n    const oSize = data.sizeMode\n    const oResponsive = data.responsive\n    const enter = () => {\n      data.width = window.screen.width\n      data.height = window.screen.height\n      data.source = (opts.source || oSource) as string[]\n      data.sizeMode = opts.sizeMode || 'fit'\n      data.responsive = false\n      SpriteSpin.boot(data)\n    }\n    const exit = () => {\n      data.width = oWidth\n      data.height = oHeight\n      data.source = oSource\n      data.sizeMode = oSize\n      data.responsive = oResponsive\n      SpriteSpin.boot(data)\n    }\n\n    bindChangeEvent(() => {\n      if (isFullscreen()) {\n        enter()\n        bindOrientationEvent(enter)\n      } else {\n        unbindChangeEvent()\n        unbindOrientationEvent()\n        exit()\n      }\n    })\n    requestFullscreenNative(data.target[0])\n  }\n\n  SpriteSpin.registerApi({\n    fullscreenEnabled,\n    fullscreenElement,\n    exitFullscreen,\n    toggleFullscreen: function(opts: Options) {\n      toggleFullscreen(this.data, opts)\n    },\n    requestFullscreen: function(opts: Options) {\n      requestFullscreen(this.data, opts)\n    }\n  })\n}\n","((SpriteSpin) => {\n\n  const NAME = 'click'\n\n  function click(e, data: SpriteSpin.Instance) {\n    if (data.loading || !data.stage.is(':visible')) {\n      return\n    }\n    SpriteSpin.updateInput(e, data)\n    const input = SpriteSpin.getInputState(data)\n\n    let half, pos\n    const target = data.target, offset = target.offset()\n    if (data.orientation === 'horizontal') {\n      half = target.innerWidth() / 2\n      pos = input.currentX - offset.left\n    } else {\n      half = target.innerHeight() / 2\n      pos = input.currentY - offset.top\n    }\n    SpriteSpin.updateFrame(data, data.frame + (pos > half ? 1 : -1))\n  }\n\n  SpriteSpin.registerPlugin(NAME, {\n    name: NAME,\n    mouseup: click,\n    touchend: click\n  })\n\n})(SpriteSpin)\n","((SpriteSpin) => {\n\n  const NAME = 'drag'\n\n  interface DragState {\n    frame: number\n    lane: number\n  }\n\n  function getState(data: SpriteSpin.Instance) {\n    return SpriteSpin.getPluginState(data, NAME) as DragState\n  }\n\n  function getAxis(data: SpriteSpin.Instance) {\n    if (typeof data.orientation === 'number') {\n      return data.orientation * Math.PI / 180\n    }\n    if (data.orientation === 'horizontal') {\n      return 0\n    }\n    return Math.PI / 2\n  }\n\n  function dragStart(e, data: SpriteSpin.Instance) {\n    const state = getState(data)\n    if (data.loading || SpriteSpin.is(data, 'dragging') || !data.stage.is(':visible')) {\n      return\n    }\n\n    state.frame = data.frame || 0\n    state.lane = data.lane || 0\n    SpriteSpin.flag(data, 'dragging', true)\n    SpriteSpin.updateInput(e, data)\n  }\n\n  function dragEnd(e, data: SpriteSpin.Instance) {\n    if (SpriteSpin.is(data, 'dragging')) {\n      SpriteSpin.flag(data, 'dragging', false)\n      SpriteSpin.resetInput(data)\n    }\n  }\n\n  function drag(e, data: SpriteSpin.Instance) {\n    const state = getState(data)\n    const input = SpriteSpin.getInputState(data)\n    if (!SpriteSpin.is(data, 'dragging')) { return }\n    SpriteSpin.updateInput(e, data)\n\n    const rad = getAxis(data)\n    const sn = Math.sin(rad)\n    const cs = Math.cos(rad)\n    const x = ((input.nddX * cs - input.nddY * sn) * data.sense) || 0\n    const y = ((input.nddX * sn + input.nddY * cs) * (data.senseLane || data.sense)) || 0\n\n    // accumulate\n    state.frame += data.frames * x\n    state.lane += data.lanes * y\n\n    // update spritespin\n    const oldFrame = data.frame\n    const oldLane = data.lane\n    SpriteSpin.updateFrame(data, Math.floor(state.frame), Math.floor(state.lane))\n    SpriteSpin.stopAnimation(data)\n\n    if (/^touch.*/.test(e.name) && (oldFrame !== data.frame || oldLane !== data.lane)) {\n      // prevent touch scroll\n      e.preventDefault()\n      // stop dragging if the drag distance exceeds the scroll threshold.\n      if (data.scrollThreshold != null && (Math.abs(input.ddX) + Math.abs(input.ddY)) > data.scrollThreshold) {\n        dragEnd(e, data)\n      }\n    }\n  }\n\n  function mousemove(e, data) {\n    dragStart(e, data)\n    drag(e, data)\n  }\n\n  SpriteSpin.registerPlugin('drag', {\n    name: 'drag',\n\n    mousedown: dragStart,\n    mousemove: drag,\n    mouseup: dragEnd,\n\n    documentmousemove: drag,\n    documentmouseup: dragEnd,\n\n    touchstart: dragStart,\n    touchmove: drag,\n    touchend: dragEnd,\n    touchcancel: dragEnd\n  })\n\n  SpriteSpin.registerPlugin('move', {\n    name: 'move',\n\n    mousemove: mousemove,\n    mouseleave: dragEnd,\n\n    touchstart: dragStart,\n    touchmove: drag,\n    touchend: dragEnd,\n    touchcancel: dragEnd\n  })\n})(SpriteSpin)\n","((SpriteSpin) => {\n\n  const NAME = 'hold'\n\n  interface HoldState {\n    frameTime: number\n    animate: boolean\n    reverse: boolean\n  }\n\n  function getState(data: SpriteSpin.Instance) {\n    return SpriteSpin.getPluginState(data, NAME) as HoldState\n  }\n\n  function rememberOptions(data: SpriteSpin.Instance) {\n    const state = getState(data)\n    state.frameTime = data.frameTime\n    state.animate = data.animate\n    state.reverse = data.reverse\n  }\n\n  function restoreOptions(data: SpriteSpin.Instance) {\n    const state = getState(data)\n    data.frameTime = state.frameTime\n    data.animate = state.animate\n    data.reverse = state.reverse\n  }\n\n  function start(e, data: SpriteSpin.Instance) {\n    if (SpriteSpin.is(data, 'loading') || SpriteSpin.is(data, 'dragging') || !data.stage.is(':visible')) {\n      return\n    }\n    rememberOptions(data)\n    SpriteSpin.updateInput(e, data)\n    SpriteSpin.flag(data, 'dragging', true)\n    data.animate = true\n    SpriteSpin.applyAnimation(data)\n  }\n\n  function stop(e, data: SpriteSpin.Instance) {\n    SpriteSpin.flag(data, 'dragging', false)\n    SpriteSpin.resetInput(data)\n    SpriteSpin.stopAnimation(data)\n    restoreOptions(data)\n    SpriteSpin.applyAnimation(data)\n  }\n\n  function update(e, data: SpriteSpin.Instance) {\n    if (!SpriteSpin.is(data, 'dragging')) {\n      return\n    }\n    SpriteSpin.updateInput(e, data)\n    const input = SpriteSpin.getInputState(data)\n\n    let half, delta\n    const target = data.target, offset = target.offset()\n    if (data.orientation === 'horizontal') {\n      half = target.innerWidth() / 2\n      delta = (input.currentX - offset.left - half) / half\n    } else {\n      half = (data.height / 2)\n      delta = (input.currentY - offset.top - half) / half\n    }\n    data.reverse = delta < 0\n    delta = delta < 0 ? -delta : delta\n    data.frameTime = 80 * (1 - delta) + 20\n\n    if (((data.orientation === 'horizontal') && (input.dX < input.dY)) ||\n      ((data.orientation === 'vertical') && (input.dX < input.dY))) {\n      e.preventDefault()\n    }\n  }\n\n  function onFrame(e, data: SpriteSpin.Instance) {\n    data.animate = true\n    SpriteSpin.applyAnimation(data)\n  }\n\n  SpriteSpin.registerPlugin(NAME, {\n    name: NAME,\n\n    mousedown: start,\n    mousemove: update,\n    mouseup: stop,\n    mouseleave: stop,\n\n    touchstart: start,\n    touchmove: update,\n    touchend: stop,\n    touchcancel: stop,\n\n    onFrame: onFrame\n  })\n\n})(SpriteSpin)\n","((SpriteSpin) => {\n\n  const NAME = 'swipe'\n\n  interface SwipeState {\n    fling: number\n    snap: number\n  }\n\n  function getState(data) {\n    return SpriteSpin.getPluginState(data, NAME) as SwipeState\n  }\n  function getOption(data, name, fallback) {\n    return data[name] || fallback\n  }\n\n  function init(e, data) {\n    const state = getState(data)\n    state.fling = getOption(data, 'swipeFling', 10)\n    state.snap = getOption(data, 'swipeSnap', 0.50)\n  }\n\n  function start(e, data: SpriteSpin.Instance) {\n    if (!data.loading && !SpriteSpin.is(data, 'dragging')) {\n      SpriteSpin.updateInput(e, data)\n      SpriteSpin.flag(data, 'dragging', true)\n    }\n  }\n\n  function update(e, data: SpriteSpin.Instance) {\n    if (!SpriteSpin.is(data, 'dragging')) {\n      return\n    }\n    SpriteSpin.updateInput(e, data)\n    const frame = data.frame\n    const lane = data.lane\n    SpriteSpin.updateFrame(data, frame, lane)\n  }\n\n  function end(e, data: SpriteSpin.Instance) {\n    if (!SpriteSpin.is(data, 'dragging')) {\n      return\n    }\n    SpriteSpin.flag(data, 'dragging', false)\n\n    const state = getState(data)\n    const input = SpriteSpin.getInputState(data)\n\n    let frame = data.frame\n    const lane = data.lane\n    const snap = state.snap\n    const fling = state.fling\n    let dS, dF\n    if (data.orientation === 'horizontal') {\n      dS = input.ndX\n      dF = input.ddX\n    } else {\n      dS = input.ndY\n      dF = input.ddY\n    }\n\n    if (dS >= snap || dF >= fling) {\n      frame = data.frame - 1\n    } else if (dS <= -snap || dF <= -fling) {\n      frame = data.frame + 1\n    }\n\n    SpriteSpin.resetInput(data)\n    SpriteSpin.updateFrame(data, frame, lane)\n    SpriteSpin.stopAnimation(data)\n  }\n\n  SpriteSpin.registerPlugin(NAME, {\n    name: NAME,\n    onLoad: init,\n    mousedown: start,\n    mousemove: update,\n    mouseup: end,\n    mouseleave: end,\n\n    touchstart: start,\n    touchmove: update,\n    touchend: end,\n    touchcancel: end\n  })\n\n})(SpriteSpin)\n","((SpriteSpin) => {\n\n  const $ = SpriteSpin.$\n\n  const floor = Math.floor\n\n  const NAME = '360'\n\n  function onLoad(e, data: SpriteSpin.Instance) {\n    data.stage.find('.spritespin-frames').detach()\n    if (data.renderer === 'image') {\n      $(data.images).addClass('spritespin-frames').appendTo(data.stage)\n    }\n  }\n\n  function onDraw(e, data: SpriteSpin.Instance) {\n    const specs = SpriteSpin.Utils.findSpecs(data.metrics, data.frames, data.frame, data.lane)\n    const sheet = specs.sheet\n    const sprite = specs.sprite\n\n    if (!sheet || !sprite) { return }\n    const src = data.source[sheet.id]\n    const image = data.images[sheet.id]\n\n    if (data.renderer === 'canvas') {\n      data.canvas.show()\n      const w = data.canvas[0].width / data.canvasRatio\n      const h = data.canvas[0].height / data.canvasRatio\n      data.context.clearRect(0, 0, w, h)\n      data.context.drawImage(image, sprite.sampledX, sprite.sampledY, sprite.sampledWidth, sprite.sampledHeight, 0, 0, w, h)\n      return\n    }\n\n    const scaleX = sprite.sampledWidth / data.stage.innerWidth()\n    const scaleY = sprite.sampledHeight / data.stage.innerHeight()\n    const top = Math.floor(-sprite.sampledX * scaleY)\n    const left = Math.floor(-sprite.sampledY * scaleX)\n    const width = Math.floor(sheet.sampledWidth * scaleX)\n    const height = Math.floor(sheet.sampledHeight * scaleY)\n    if (data.renderer === 'background') {\n      data.stage.css({\n        'background-image'    : `url('${src}')`,\n        'background-position' : `${left}px ${top}px`,\n        'background-repeat'   : 'no-repeat',\n        // set custom background size to enable responsive rendering\n        '-webkit-background-size' : `${width}px ${height}px`, /* Safari 3-4 Chrome 1-3 */\n        '-moz-background-size'    : `${width}px ${height}px`, /* Firefox 3.6 */\n        '-o-background-size'      : `${width}px ${height}px`, /* Opera 9.5 */\n        'background-size'         : `${width}px ${height}px`  /* Chrome, Firefox 4+, IE 9+, Opera, Safari 5+ */\n      })\n      return\n    }\n\n    $(data.images).hide()\n    $(image).show().css({\n      position: 'absolute',\n      top: top,\n      left: left,\n      'max-width' : 'initial',\n      width: width,\n      height: height\n    })\n  }\n\n  SpriteSpin.registerPlugin(NAME, {\n    name: NAME,\n    onLoad,\n    onDraw\n  })\n\n})(SpriteSpin)\n","((SpriteSpin) => {\n\n  const NAME = 'blur'\n\n  interface BlurStep {\n    frame: number\n    lane: number\n    live: number\n    step: number\n    d: number\n    alpha: number\n  }\n  interface BlurState {\n    canvas: any\n    context: CanvasRenderingContext2D\n    steps: BlurStep[]\n    fadeTime: number\n    frameTime: number\n    trackTime: number\n    cssBlur: boolean\n\n    timeout: number\n  }\n\n  function getState(data) {\n    return SpriteSpin.getPluginState(data, NAME) as BlurState\n  }\n  function getOption(data, name, fallback) {\n    return data[name] || fallback\n  }\n\n  function init(e, data: SpriteSpin.Instance) {\n    const state = getState(data)\n\n    state.canvas = state.canvas || SpriteSpin.$(\"<canvas class='blur-layer'></canvas>\")\n    state.context = state.context || state.canvas[0].getContext('2d')\n    state.steps = state.steps || []\n    state.fadeTime = Math.max(getOption(data, 'blurFadeTime', 200), 1)\n    state.frameTime = Math.max(getOption(data, 'blurFrameTime', data.frameTime), 16)\n    state.trackTime = null\n    state.cssBlur = !!getOption(data, 'blurCss', data.frameTime)\n\n    const inner = SpriteSpin.Utils.getInnerSize(data)\n    const outer = data.responsive ? SpriteSpin.Utils.getComputedSize(data) : SpriteSpin.Utils.getOuterSize(data)\n    const css = SpriteSpin.Utils.getInnerLayout(data.sizeMode, inner, outer)\n\n    state.canvas[0].width = data.width * data.canvasRatio\n    state.canvas[0].height = data.height * data.canvasRatio\n    state.canvas.css(css).show()\n    state.context.scale(data.canvasRatio, data.canvasRatio)\n    data.target.append(state.canvas)\n  }\n\n  function onFrame(e, data) {\n    const state = getState(data)\n    trackFrame(data)\n    if (state.timeout == null) {\n      loop(data)\n    }\n  }\n\n  function trackFrame(data: SpriteSpin.Instance) {\n    const state = getState(data)\n    const ani = SpriteSpin.getAnimationState(data)\n\n    // distance between frames\n    let d = Math.abs(data.frame - ani.lastFrame)\n    // shortest distance\n    d = d >= data.frames / 2 ? data.frames - d : d\n\n    state.steps.unshift({\n      frame: data.frame,\n      lane: data.lane,\n      live: 1,\n      step: state.frameTime / state.fadeTime,\n      d: d,\n      alpha: 0\n    })\n  }\n\n  const toRemove = []\n  function removeOldFrames(frames) {\n    toRemove.length = 0\n    for (let i = 0; i < frames.length; i += 1) {\n      if (frames[i].alpha <= 0) {\n        toRemove.push(i)\n      }\n    }\n    for (const item of toRemove) {\n      frames.splice(item, 1)\n    }\n  }\n\n  function loop(data: SpriteSpin.Instance) {\n    const state = getState(data)\n    state.timeout = window.setTimeout(() => { tick(data) }, state.frameTime)\n  }\n\n  function killLoop(data: SpriteSpin.Instance) {\n    const state = getState(data)\n    window.clearTimeout(state.timeout)\n    state.timeout = null\n  }\n\n  function applyCssBlur(canvas, d) {\n    const amount = Math.min(Math.max((d / 2) - 4, 0), 1.5)\n    const blur = `blur(${amount}px)`\n    canvas.css({\n      '-webkit-filter': blur,\n      filter: blur\n    })\n  }\n\n  function drawFrame(data: SpriteSpin.Instance, state: BlurState, step: BlurStep) {\n    if (step.alpha <= 0) { return }\n\n    const specs = SpriteSpin.Utils.findSpecs(data.metrics, data.frames, data.frame, data.lane)\n    const sheet = specs.sheet\n    const sprite = specs.sprite\n    if (!sheet || !sprite) { return }\n\n    const src = data.source[sheet.id]\n    const image = data.images[sheet.id]\n    if (image.complete === false) { return }\n\n    state.canvas.show()\n    const w = state.canvas[0].width / data.canvasRatio\n    const h = state.canvas[0].height / data.canvasRatio\n    state.context.clearRect(0, 0, w, h)\n    state.context.drawImage(image, sprite.sampledX, sprite.sampledY, sprite.sampledWidth, sprite.sampledHeight, 0, 0, w, h)\n  }\n\n  function tick(data: SpriteSpin.Instance) {\n    const state = getState(data)\n    killLoop(data)\n    if (!state.context) {\n      return\n    }\n\n    let d = 0\n    state.context.clearRect(0, 0, data.width, data.height)\n    for (const step of state.steps) {\n      step.live = Math.max(step.live - step.step, 0)\n      step.alpha = Math.max(step.live - 0.25, 0)\n      drawFrame(data, state, step)\n      d += step.alpha + step.d\n    }\n    if (state.cssBlur) {\n      applyCssBlur(state.canvas, d)\n    }\n    removeOldFrames(state.steps)\n    if (state.steps.length) {\n      loop(data)\n    }\n  }\n\n  SpriteSpin.registerPlugin(NAME, {\n    name: NAME,\n\n    onLoad: init,\n    onFrameChanged: onFrame\n  })\n\n})(SpriteSpin)\n","((SpriteSpin) => {\n\n  const max = Math.max\n  const min = Math.min\n\n  const NAME = 'ease'\n\n  interface EaseSample {\n    time: number\n    frame: number\n    lane: number\n  }\n\n  interface EaseState {\n    damping: number\n    maxSamples: number\n    updateTime: number\n    abortTime: number\n    samples: EaseSample[]\n    steps: number[]\n    handler: number\n\n    lane: number\n    lanes: number\n    laneStep: number\n\n    frame: number\n    frames: number\n    frameStep: number\n  }\n\n  function getState(data) {\n    return SpriteSpin.getPluginState(data, NAME) as EaseState\n  }\n\n  function getOption(data, name, fallback) {\n    return data[name] || fallback\n  }\n\n  function init(e, data: SpriteSpin.Instance) {\n    const state = getState(data)\n    state.maxSamples = max(getOption(data, 'easeMaxSamples', 5), 0)\n    state.damping = max(min(getOption(data, 'easeDamping', 0.9), 0.999), 0)\n    state.abortTime = max(getOption(data, 'easeAbortTime', 250), 16)\n    state.updateTime = max(getOption(data, 'easeUpdateTime', data.frameTime), 16)\n    state.samples = []\n    state.steps = []\n  }\n\n  function update(e, data: SpriteSpin.Instance) {\n    if (SpriteSpin.is(data, 'dragging')) {\n      killLoop(data)\n      sampleInput(data)\n    }\n  }\n\n  function end(e, data: SpriteSpin.Instance) {\n    const state = getState(data)\n    const samples = state.samples\n\n    let last\n    let lanes = 0\n    let frames = 0\n    let time = 0\n    for (const sample of samples) {\n      if (!last) {\n        last = sample\n        continue\n      }\n\n      const dt = sample.time - last.time\n      if (dt > state.abortTime) {\n        lanes = frames = time = 0\n        return killLoop(data)\n      }\n\n      frames += sample.frame - last.frame\n      lanes += sample.lane - last.lane\n      time += dt\n      last = sample\n    }\n    samples.length = 0\n    if (!time) {\n      return\n    }\n\n    state.lane = data.lane\n    state.lanes = 0\n    state.laneStep = lanes / time * state.updateTime\n\n    state.frame = data.frame\n    state.frames = 0\n    state.frameStep = frames / time * state.updateTime\n\n    loop(data)\n  }\n\n  function sampleInput(data: SpriteSpin.Instance) {\n    const state = getState(data)\n    // add a new sample\n    state.samples.push({\n      time: new Date().getTime(),\n      frame: data.frame,\n      lane: data.lane\n    })\n    // drop old samples\n    while (state.samples.length > state.maxSamples) {\n      state.samples.shift()\n    }\n  }\n\n  function killLoop(data: SpriteSpin.Instance) {\n    const state = getState(data)\n    if (state.handler != null) {\n      window.clearTimeout(state.handler)\n      state.handler = null\n    }\n  }\n\n  function loop(data: SpriteSpin.Instance) {\n    const state = getState(data)\n    state.handler = window.setTimeout(() => { tick(data) }, state.updateTime)\n  }\n\n  function tick(data: SpriteSpin.Instance) {\n    const state = getState(data)\n    state.lanes += state.laneStep\n    state.frames += state.frameStep\n    state.laneStep *= state.damping\n    state.frameStep *= state.damping\n    const frame = Math.floor(state.frame + state.frames)\n    const lane = Math.floor(state.lane + state.lanes)\n\n    SpriteSpin.updateFrame(data, frame, lane)\n\n    if (SpriteSpin.is(data, 'dragging')) {\n      killLoop(data)\n    } else if (Math.abs(state.frameStep) > 0.005 || Math.abs(state.laneStep) > 0.005) {\n      loop(data)\n    } else {\n      killLoop(data)\n    }\n  }\n\n  SpriteSpin.registerPlugin(NAME, {\n    name: NAME,\n\n    onLoad: init,\n\n    mousemove: update,\n    mouseup: end,\n    mouseleave: end,\n\n    touchmove: update,\n    touchend: end,\n    touchcancel: end\n  })\n\n})(SpriteSpin)\n","((SpriteSpin) => {\n\n  const NAME = 'gallery'\n\n  interface GalleryState {\n    images: any[]\n    offsets: any[]\n    speed: number\n    opacity: number\n    frame: number\n    stage: any\n    dX: number\n    ddX: number\n  }\n\n  function getState(data) {\n    return SpriteSpin.getPluginState(data, NAME) as GalleryState\n  }\n\n  function getOption(data, name, fallback) {\n    return data[name] || fallback\n  }\n\n  function load(e, data: SpriteSpin.Instance) {\n    const state = getState(data)\n\n    state.images = []\n    state.offsets = []\n    state.frame = data.frame\n    state.speed = getOption(data, 'gallerySpeed', 500)\n    state.opacity = getOption(data, 'galleryOpacity', 0.25)\n    state.stage = getOption(data, 'galleryStage', SpriteSpin.$('<div></div>'))\n\n    state.stage.empty().addClass('gallery-stage').prependTo(data.stage)\n\n    let size = 0\n    for (const image of data.images) {\n      const naturalSize = SpriteSpin.Utils.naturalSize(image)\n      const scale = data.height / naturalSize.height\n\n      const img = $(image)\n      state.stage.append(img)\n      state.images.push(img)\n      state.offsets.push(-size + (data.width - image.width * scale) / 2)\n      size += data.width\n      img.css({\n        'max-width' : 'initial',\n        opacity : state.opacity,\n        width: data.width,\n        height: data.height\n      })\n    }\n    const innerSize = SpriteSpin.Utils.getInnerSize(data)\n    const outerSize = data.responsive ? SpriteSpin.Utils.getComputedSize(data) : SpriteSpin.Utils.getOuterSize(data)\n    const layout = SpriteSpin.Utils.getInnerLayout(data.sizeMode, innerSize, outerSize)\n    state.stage.css(layout).css({ width: size, left: state.offsets[state.frame] })\n    state.images[state.frame].animate({ opacity : 1 }, { duration: state.speed })\n  }\n\n  function draw(e, data: SpriteSpin.Instance) {\n    const state = getState(data)\n    const input = SpriteSpin.getInputState(data)\n    const isDragging = SpriteSpin.is(data, 'dragging')\n    if (state.frame !== data.frame && !isDragging) {\n      state.stage.stop(true, false).animate({ left : state.offsets[data.frame] }, { duration: state.speed })\n\n      state.images[state.frame].animate({ opacity : state.opacity }, { duration: state.speed })\n      state.frame = data.frame\n      state.images[state.frame].animate({ opacity : 1 }, { duration: state.speed })\n      state.stage.animate({ left : state.offsets[state.frame] })\n    } else if (isDragging || state.dX !== input.dX) {\n      state.dX = input.dX\n      state.ddX = input.ddX\n      state.stage.stop(true, true).css({ left : state.offsets[state.frame] + state.dX })\n    }\n  }\n\n  SpriteSpin.registerPlugin(NAME, {\n    name: NAME,\n    onLoad: load,\n    onDraw: draw\n  })\n})(SpriteSpin)\n","((SpriteSpin) => {\n\n  const NAME = 'panorama'\n\n  interface PanoramaState {\n    scale: number\n  }\n\n  function getState(data) {\n    return SpriteSpin.getPluginState(data, NAME) as PanoramaState\n  }\n\n  function onLoad(e, data: SpriteSpin.Instance) {\n    const state = getState(data)\n    const sprite = data.metrics[0]\n    if (!sprite) {\n      return\n    }\n\n    if (data.orientation === 'horizontal') {\n      state.scale = data.target.innerHeight() / sprite.sampledHeight\n      data.frames = sprite.sampledWidth\n    } else {\n      state.scale = data.target.innerWidth() / sprite.sampledWidth\n      data.frames = sprite.sampledHeight\n    }\n    const width = Math.floor(sprite.sampledWidth * state.scale)\n    const height = Math.floor(sprite.sampledHeight * state.scale)\n    data.stage.css({\n      'background-image'        : `url(${data.source[sprite.id]})`,\n      'background-repeat'       : 'repeat-both',\n      // set custom background size to enable responsive rendering\n      '-webkit-background-size' : `${width}px ${height}px`, /* Safari 3-4 Chrome 1-3 */\n      '-moz-background-size'    : `${width}px ${height}px`, /* Firefox 3.6 */\n      '-o-background-size'      : `${width}px ${height}px`, /* Opera 9.5 */\n      'background-size'         : `${width}px ${height}px`  /* Chrome, Firefox 4+, IE 9+, Opera, Safari 5+ */\n    })\n  }\n\n  function onDraw(e, data: SpriteSpin.Instance) {\n    const state = getState(data)\n    const px = data.orientation === 'horizontal' ? 1 : 0\n    const py = px ? 0 : 1\n\n    const offset = data.frame % data.frames\n    const left = Math.round(px * offset * state.scale)\n    const top = Math.round(py * offset * state.scale)\n    data.stage.css({ 'background-position' : `${left}px ${top}px` })\n  }\n\n  SpriteSpin.registerPlugin(NAME, {\n    name: NAME,\n    onLoad: onLoad,\n    onDraw: onDraw\n  })\n\n})(SpriteSpin)\n","((SpriteSpin) => {\n\n  const NAME = 'zoom'\n\n  interface ZoomState {\n    source: string[]\n    stage: any\n\n    oldX: number\n    oldY: number\n    currentX: number\n    currentY: number\n\n    clickTime: number\n    doubleClickTime: number\n  }\n\n  function getState(data) {\n    return SpriteSpin.getPluginState(data, NAME) as ZoomState\n  }\n  function getOption(data, name, fallback) {\n    return data[name] || fallback\n  }\n\n  function onInit(e, data: SpriteSpin.Instance) {\n    const state = getState(data)\n    state.source = getOption(data, 'zoomSource', data.source)\n    state.doubleClickTime = getOption(data, 'zoomDoubleClickTime', 500)\n    state.stage = state.stage || SpriteSpin.$(\"<div class='zoom-stage'></div>\")\n    state.stage.css({\n      width    : '100%',\n      height   : '100%',\n      top      : 0,\n      left     : 0,\n      bottom   : 0,\n      right    : 0,\n      position : 'absolute'\n    })\n    .appendTo(data.target)\n    .hide()\n  }\n\n  function onDestroy(e, data: SpriteSpin.Instance) {\n    const state = getState(data)\n    if (state.stage) {\n      state.stage.remove()\n      delete state.stage\n    }\n  }\n\n  function updateInput(e, data: SpriteSpin.Instance) {\n    const state = getState(data)\n    if (!state.stage.is(':visible')) {\n      return\n    }\n\n    e.preventDefault()\n\n    // hack into drag/move module and disable dragging\n    // prevents frame change during zoom mode\n    SpriteSpin.flag(data, 'dragging', false)\n\n    // grab touch/cursor position\n    const cursor = SpriteSpin.Utils.getCursorPosition(e)\n    // normalize cursor position into [0:1] range\n    const x = cursor.x / data.width\n    const y = cursor.y / data.height\n\n    if (state.oldX == null) {\n      state.oldX = x\n      state.oldY = y\n    }\n    if (state.currentX == null) {\n      state.currentX = x\n      state.currentY = y\n    }\n\n    // calculate move delta since last frame and remember current position\n    let dx = x - state.oldX\n    let dy = y - state.oldY\n    state.oldX = x\n    state.oldY = y\n\n    // invert drag direction for touch events to enable 'natural' scrolling\n    if (e.type.match(/touch/)) {\n      dx = -dx\n      dy = -dy\n    }\n\n    // accumulate display coordinates\n    state.currentX = SpriteSpin.Utils.clamp(state.currentX + dx, 0, 1)\n    state.currentY = SpriteSpin.Utils.clamp(state.currentY + dy, 0, 1)\n\n    SpriteSpin.updateFrame(data, data.frame, data.lane)\n  }\n\n  function onClick(e, data: SpriteSpin.Instance) {\n    e.preventDefault()\n    const state = getState(data)\n    // simulate double click\n\n    const clickTime = new Date().getTime()\n    if (!state.clickTime) {\n      // on first click\n      state.clickTime = clickTime\n      return\n    }\n\n    // on second click\n    const timeDelta = clickTime - state.clickTime\n    if (timeDelta > state.doubleClickTime) {\n      // took too long, back to first click\n      state.clickTime = clickTime\n      return\n    }\n\n    // on valid double click\n    state.clickTime = undefined\n    if (toggleZoom(data)) {\n      updateInput(e, data)\n    }\n  }\n\n  function onMove(e, data: SpriteSpin.Instance) {\n    const state = getState(data)\n    if (state.stage.is(':visible')) {\n      updateInput(e, data)\n    }\n  }\n\n  function onDraw(e, data: SpriteSpin.Instance) {\n    const state = getState(data)\n\n    // calculate the frame index\n    const index = data.lane * data.frames + data.frame\n    // get the zoom image. Use original frames as fallback. This won't work for spritesheets\n    const source = state.source[index]\n    const spec = SpriteSpin.Utils.findSpecs(data.metrics, data.frames, data.frame, data.lane)\n\n    // get display position\n    let x = state.currentX\n    let y = state.currentY\n    // fallback to centered position\n    if (x == null) {\n      x = state.currentX = 0.5\n      y = state.currentY = 0.5\n    }\n\n    if (source) {\n      // scale up from [0:1] to [0:100] range\n      x = Math.floor(x * 100)\n      y = Math.floor(y * 100)\n\n      // update background image and position\n      state.stage.css({\n        'background-repeat'   : 'no-repeat',\n        'background-image'    : `url('${source}')`,\n        'background-position' : `${x}% ${y}%`\n      })\n    } else if (spec.sheet && spec.sprite) {\n      const sprite = spec.sprite\n      const sheet = spec.sheet\n      const src = data.source[sheet.id]\n      const left = -Math.floor(sprite.sampledX + x * (sprite.sampledWidth - data.width))\n      const top = -Math.floor(sprite.sampledY + y * (sprite.sampledHeight - data.height))\n      const width = sheet.sampledWidth\n      const height = sheet.sampledHeight\n      state.stage.css({\n        'background-image'    : `url('${src}')`,\n        'background-position' : `${left}px ${top}px`,\n        'background-repeat'   : 'no-repeat',\n        // set custom background size to enable responsive rendering\n        '-webkit-background-size' : `${width}px ${height}px`, /* Safari 3-4 Chrome 1-3 */\n        '-moz-background-size'    : `${width}px ${height}px`, /* Firefox 3.6 */\n        '-o-background-size'      : `${width}px ${height}px`, /* Opera 9.5 */\n        'background-size'         : `${width}px ${height}px`  /* Chrome, Firefox 4+, IE 9+, Opera, Safari 5+ */\n      })\n    }\n  }\n\n  function toggleZoom(data) {\n    const state = getState(data)\n    if (!state.stage) {\n      SpriteSpin.$.error('zoom module is not initialized or is not available.')\n      return false\n    }\n    if (state.stage.is(':visible')) {\n      state.stage.fadeOut()\n      data.stage.fadeIn()\n    } else {\n      state.stage.fadeIn()\n      data.stage.fadeOut()\n      return true\n    }\n    return false\n  }\n\n  SpriteSpin.registerPlugin(NAME, {\n    name: NAME,\n\n    mousedown: onClick,\n    touchstart: onClick,\n    mousemove: onMove,\n    touchmove: onMove,\n\n    onInit: onInit,\n    onDestroy: onDestroy,\n    onDraw: onDraw\n  })\n\n  SpriteSpin.registerApi({\n    toggleZoom: function() { toggleZoom(this.data) } // tslint:disable-line\n  })\n\n})(SpriteSpin)\n"]}